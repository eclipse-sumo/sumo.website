<!--
MkDocs version : 1.6.1
Build Date UTC : 17 February 2026 09:23:48
Last edit: 17 February 2026
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="theme-color" content="#338033">
        <meta name="theme-color" content="#338033" media="(prefers-color-scheme: dark)">
        <meta property="og:image" content="images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html">
        <link rel="shortcut icon" href="images/favicon.ico">
        <title>Definition of Vehicles, Vehicle Types, and Routes - SUMO Documentation</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/fontawesome.all.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="js/jquery-3.7.0.min.js" defer></script>
        <script src="js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

    <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>

        <!-- Expanded navigation -->
        <div id="navbar-collapse" class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li class="navitem">
                        <a href="index.html" class="nav-link">Documentation</a>
                    </li>
                    <li class="navitem">
                        <a href="Tutorials/index.html" class="nav-link">Tutorials</a>
                    </li>
                    <li class="navitem">
                        <a href="FAQ.html" class="nav-link">FAQ</a>
                    </li>
                    <li class="navitem">
                        <a href="Downloads.html" class="nav-link">Downloads</a>
                    </li>
                    <li class="navitem">
                        <a href="Publications.html" class="nav-link">Publications</a>
                    </li>
                    <li class="navitem">
                        <a href="Developer/index.html" class="nav-link">Developer</a>
                    </li>
                    <li class="navitem">
                        <a href="ChangeLog.html" class="nav-link">ChangeLog</a>
                    </li>
                    <li class="navitem">
                        <a href="https://eclipse.dev/sumo/contact/" class="nav-link">Contact</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa-solid fa-magnifying-glass"></i> <u>S</u>earch
                    </a>
                </li>
                    <li class="nav-item">
                        <a rel="edit" href="https://github.com/eclipse-sumo/sumo/edit/main/docs/web/docs/Definition_of_Vehicles,_Vehicle_Types,_and_Routes.md" class="nav-link"><i class="fa-brands fa-github"></i> <u>E</u>dit on GitHub</a>
                    </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    More <i class="fa-solid fa-circle-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                    <a class="dropdown-item" href="Editing_Articles.html">Help on editing articles</a>
                    <a class="dropdown-item" href="https://github.com/eclipse/sumo/commits/main/docs/web">Recent documentation changes</a>
                    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                    <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                    <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                        <input type="checkbox" id="checkbox_theme">
                    </label></span>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="languagedrop" data-toggle="dropdown">
                    <i class="fa-solid fa-language"></i> Languages <i class="fa-solid fa-circle-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                    <span class="dropdown-item">
                        Translations are generated automatically by Google Translate:
                    </span>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=de">Deutsch</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=es">Español</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=pt">Português</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=fr">Français</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=it">Italiano</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=zh-CN">简体中文</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=zh-TW">繁體中文</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=tr">Türkçe</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=ja">日本語</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=en&_x_tr_tl=ko">한국어</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html?_x_tr_sl=auto&_x_tr_tl=en"><i class="fa-solid fa-arrow-right"></i> Other languages</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="index.html" style="display: inline-block; margin-top: 5px;"><img src="images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed mb-1" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa-solid fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#vehicles_and_routes">Vehicles and Routes</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#available_vehicle_attributes" class="nav-link">• Available Vehicle attributes</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#repeated_vehicles_flows" class="nav-link">• Repeated vehicles (Flows)</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#routes" class="nav-link">• Routes</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#repeated_routes" class="nav-link">&rarr; Repeated Routes</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#incomplete_routes_trips_and_flows" class="nav-link">• Incomplete Routes (trips and flows)</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#traffic_assignment_zones_taz" class="nav-link">&rarr; Traffic assignment zones (TAZ)</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#routing_between_junctions" class="nav-link">&rarr; Routing between Junctions</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#implicit_origin_and_destination_from_stops" class="nav-link">&rarr; Implicit Origin and Destination from Stops</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#a_vehicles_depart_and_arrival_parameter" class="nav-link">• A Vehicle's depart and arrival parameter</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#depart" class="nav-link">&rarr; depart</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#departlane" class="nav-link">&rarr; departLane</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#departpos" class="nav-link">&rarr; departPos</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#departspeed" class="nav-link">&rarr; departSpeed</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#departedge" class="nav-link">&rarr; departEdge</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#departposlat" class="nav-link">&rarr; departPosLat</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#arrivallane" class="nav-link">&rarr; arrivalLane</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#arrivalpos" class="nav-link">&rarr; arrivalPos</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#arrivalspeed" class="nav-link">&rarr; arrivalSpeed</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#arrivaledge" class="nav-link">&rarr; arrivalEdge</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#arrivalposlat" class="nav-link">&rarr; arrivalPosLat</a>
                </li>
            <li class="nav-item main"><a href="#vehicle_types">Vehicle Types</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#available_vtype_attributes" class="nav-link">• Available vType Attributes</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#speed_distributions" class="nav-link">• Speed Distributions</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#individual_speed_factor" class="nav-link">&rarr; Individual Speed Factor</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#defining_a_normal_distribution_for_vehicle_speeds" class="nav-link">&rarr; Defining a normal distribution for vehicle speeds</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#vehicle_class_specific_defaults" class="nav-link">&rarr; Vehicle class specific defaults</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#global_configuration" class="nav-link">&rarr; Global Configuration</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#different_distributions_for_cars_and_trucks" class="nav-link">&rarr; Different distributions for cars and trucks</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#additional_remarks_on_speed_distributions" class="nav-link">&rarr; Additional remarks on speed distributions</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#examples" class="nav-link">&rarr; Examples</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#vehicle_length" class="nav-link">• Vehicle Length</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#abstract_vehicle_class" class="nav-link">• Abstract Vehicle Class</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#vehicle_emission_classes" class="nav-link">• Vehicle Emission Classes</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#visualization" class="nav-link">• Visualization</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#carriages_custom_visualization" class="nav-link">• Carriages, custom visualization</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#car-following_models" class="nav-link">• Car-Following Models</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#car-following_model_parameters" class="nav-link">&rarr; Car-Following Model Parameters</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#default_krauss_model_description" class="nav-link">&rarr; Default Krauss Model Description</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#transient_carfollowmodel_parameters" class="nav-link">&rarr; Transient carFollowModel Parameters</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#lane-changing_models" class="nav-link">• Lane-Changing Models</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#junction_model_parameters" class="nav-link">• Junction Model Parameters</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#impatience" class="nav-link">&rarr; Impatience</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#transient_parameters" class="nav-link">&rarr; Transient Parameters</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#default_vehicle_type" class="nav-link">• Default Vehicle Type</a>
                </li>
            <li class="nav-item main"><a href="#route_and_vehicle_type_distributions">Route and vehicle type distributions</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#vehicle_type_distributions" class="nav-link">• Vehicle Type Distributions</a>
                </li>
                <li class="nav-item" style="text-indent: 25px;">
                    <a href="#using_existing_types" class="nav-link">&rarr; Using existing types</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#route_distributions" class="nav-link">• Route Distributions</a>
                </li>
            <li class="nav-item main"><a href="#stops_and_waypoints">Stops and waypoints</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#startpos_and_endpos" class="nav-link">• startPos and endPos</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#triggered_stops" class="nav-link">• triggered stops</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#waypoints" class="nav-link">• Waypoints</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#jumps" class="nav-link">• Jumps</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#user_defined_parameters" class="nav-link">• User defined Parameters</a>
                </li>
            <li class="nav-item main"><a href="#colors">Colors</a></li>
            <li class="nav-item main"><a href="#devices">Devices</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#automatic_assignment" class="nav-link">• Automatic assignment</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#assignment_by_global_options" class="nav-link">• Assignment by global options</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#assignment_by_generic_parameters" class="nav-link">• Assignment by generic parameters</a>
                </li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a class="no-arrow-link" href="https://eclipse.dev/sumo">eclipse.dev/sumo</a></p>
    </div>

    <div class="admonition" style="position: sticky; margin-top: 20px; margin-bottom:10px; background-color: #d6cbb2; border-color: #c6b795; padding: 0;">
        <center>
            <a class="no-arrow-link" href="https://eclipse.dev/sumo/conference"><img src="images/SUMO2026.png" alt="SUMO User Conference 2025" class="img-fluid" style="max-height: 200px"></a>
        </center>
    </div>

</div>
                </div>
                <div class="col-md-9 main-area" role="main">
                   <!-- page.is_homepage seems to be broken in Mkdocs > 1.1.0 -->
                  <ul class="breadcrumbs">
    <script>
        var pagePath = "/docs/Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html";
        var splitUrl = pagePath.split("/");
        splitUrl.pop();
        splitUrl.shift();
        if (splitUrl[0] == 'docs') splitUrl.shift();
        var homeLink = "index.html";
        document.write('<li class="breadcrumb-item"><a href="' + homeLink + '"><i class="fa-solid fa-house"></i></a></li>');
        var prev = '';

        var dirLink = splitUrl.map(function (el) {
        el = prev + el; prev = el + '/'; return el;
        });

        for (let i = 0; i < splitUrl.length; i++) {
            document.write("<li class=\"breadcrumb-item\"><a class=\"no-arrow-link\" href=\"" + dirLink[i] + "\">" + splitUrl[i] + "</a></li>");
        }
    </script>
    <li class="breadcrumb-item active">Definition of Vehicles, Vehicle Types, and Routes</li>
</ul>
                  <hTitles>Definition of Vehicles, Vehicle Types, and Routes<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<table>
<thead>
<tr>
<th>Filename extension</th>
<th>.rou.xml</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type of content</td>
<td>Vehicles, Vehicle Types, and Routes</td>
</tr>
<tr>
<td>Open format?</td>
<td>Yes</td>
</tr>
<tr>
<td>SUMO specific?</td>
<td>Yes</td>
</tr>
<tr>
<td>XML Schema</td>
<td><a href="https://sumo.dlr.de/xsd/routes_file.xsd">routes_file.xsd</a></td>
</tr>
</tbody>
</table>
<p>There are <a href="index.html#data_sources_for_demand_generation">various applications</a>
that can be used to define vehicular demand for SUMO from existing input data.
Traffic demand can also be created and edited visually with <a href="Netedit/elementsDemand.html">netedit</a>.
All these applications eventually create XML definitions.</p>
<p>Of course it is also possible to define the demand file manually or to edit generated
files with a text editor. Before starting, it is important to know that
a vehicle in SUMO consists of three parts:</p>
<ul>
<li>a vehicle type which describes the vehicle's physical properties,</li>
<li>a route the vehicle shall take,</li>
<li>and the vehicle itself.</li>
</ul>
<p>Both routes and vehicle types can be shared by several vehicles. It is
not mandatory to define a vehicle type. If not given, a default type is
used. The driver of a vehicle does not have to be modelled explicitly.
For the simulation of <a href="Specification/Persons.html">persons which walk around or ride in vehicles, additional definitions are necessary</a>.</p>
<h1 id="vehicles_and_routes">Vehicles and Routes<a class="headerlink" href="#vehicles_and_routes" title="Permanent link">#</a></h1>
<p>Initially, we will define a vehicle with a route that belongs to it:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;0.8&quot;</span><span class="w"> </span><span class="na">decel=</span><span class="s">&quot;4.5&quot;</span><span class="w"> </span><span class="na">sigma=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;70&quot;</span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,0,0&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end rend&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vehicle&gt;</span>

<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<p>By giving such a route definition to <a href="sumo.html">sumo</a> (or
<a href="sumo-gui.html">sumo-gui</a>), <a href="sumo.html">sumo</a> will build a
red (color=1,0,0) vehicle of type "type1" named "0" which starts at time
0. The vehicle will drive along the streets "beg", "middle", "end", and
as soon as it has approached the edge "rend" it will be removed from the
simulation.</p>
<p>This vehicle has its own internal route which is not shared with other
vehicles. It is also possible to define two vehicles using the same
route. In this case the route must be "externalized" - defined before
being referenced by the vehicles. Also, the route must be named by
giving it an id. The vehicles using the route refer it using the
"route"-attribute. The complete change looks like this:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;0.8&quot;</span><span class="w"> </span><span class="na">decel=</span><span class="s">&quot;4.5&quot;</span><span class="w"> </span><span class="na">sigma=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;70&quot;</span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,1,0&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end rend&quot;</span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,0,0&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;0,1,0&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<h2 id="available_vehicle_attributes">Available Vehicle attributes<a class="headerlink" href="#available_vehicle_attributes" title="Permanent link">#</a></h2>
<p>A vehicle may be defined using the following attributes:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>id</strong></td>
<td>id (string)</td>
<td>The name of the vehicle</td>
</tr>
<tr>
<td>type</td>
<td>id</td>
<td>The id of the <a href="#vehicle_types">vehicle type</a> to use for this vehicle.</td>
</tr>
<tr>
<td>route</td>
<td>id</td>
<td>The id of the route the vehicle shall drive along</td>
</tr>
<tr>
<td>color</td>
<td><a href="#colors">color</a></td>
<td>This vehicle's color</td>
</tr>
<tr>
<td><strong>depart</strong></td>
<td>float (s) or <a href="Other/Glossary.html#t">human-readable-time</a> or one of <em>triggered</em>, <em>containerTriggered</em>, <em>begin</em></td>
<td>The time step at which the vehicle shall enter the network; see <a href="#depart">#depart</a>. Alternatively the vehicle departs once a <a href="Specification/Persons.html#rides">person enters</a> or a <a href="Specification/Containers.html">container is loaded</a></td>
</tr>
<tr>
<td>departLane</td>
<td>int/string (≥0, "random", "free", "allowed", "best", "first", "best_prob")</td>
<td>The lane on which the vehicle shall be inserted; see <a href="#departlane">#departLane</a>. <em>default: "first"</em>, default can be set with option <strong>--default.departlane</strong></td>
</tr>
<tr>
<td>departPos</td>
<td>float(m)/string ("random", "free", "random_free", "base", "last", "stop", "splitFront")</td>
<td>The position at which the vehicle shall enter the net; see <a href="#departpos">#departPos</a>. <em>default: "base"</em></td>
</tr>
<tr>
<td>departSpeed</td>
<td>float(m/s)/string (≥0, "random", "max", "desired", "speedLimit", "last", "avg")</td>
<td>The speed with which the vehicle shall enter the network; see <a href="#departspeed">#departSpeed</a>. <em>default: 0</em>,  default can be set with option <strong>--default.departlane</strong></td>
</tr>
<tr>
<td>departEdge</td>
<td>int (index from [0, routeLength[ or "random"</td>
<td>The initial edge along the route where the vehicle should enter the network (only supported if a complete route is defined); see <a href="#departedge">#departEdge</a>. <em>default: 0</em></td>
</tr>
<tr>
<td>arrivalLane</td>
<td>int/string (≥0,"current")</td>
<td>The lane at which the vehicle shall leave the network; see <a href="#arrivallane">#arrivalLane</a>. <em>default: "current"</em></td>
</tr>
<tr>
<td>arrivalPos</td>
<td>float(m)/string (≥0<sup>(1)</sup>, "random", "max")</td>
<td>The position at which the vehicle shall leave the network; see <a href="#arrivalpos">#arrivalPos</a>. <em>default: "max"</em></td>
</tr>
<tr>
<td>arrivalSpeed</td>
<td>float(m/s)/string (≥0,"current")</td>
<td>The speed with which the vehicle shall leave the network; see <a href="#arrivalspeed">#arrivalSpeed</a>. <em>default: "current"</em></td>
</tr>
<tr>
<td>arrivalEdge</td>
<td>int (index from [0, routeLength[ or "random"</td>
<td>The final edge along the route where the vehicle should leave the network (only supported if a complete route is defined); see <a href="#arrivaledge">#arrivalEdge</a>.</td>
</tr>
<tr>
<td>line</td>
<td>string</td>
<td>A string specifying the id of a public transport line which can be used when specifying <a href="Specification/Persons.html#rides">person rides</a></td>
</tr>
<tr>
<td>personNumber</td>
<td>int (in [0,personCapacity])</td>
<td>The number of occupied seats when the vehicle is inserted. <em>default: 0</em></td>
</tr>
<tr>
<td>containerNumber</td>
<td>int (in [0,containerCapacity])</td>
<td>The number of occupied container places when the vehicle is inserted. <em>default: 0</em></td>
</tr>
<tr>
<td>reroute</td>
<td>bool</td>
<td>Whether the vehicle should be equipped with a <a href="Demand/Automatic_Routing.html">rerouting device</a> (setting this to <em>false</em> does not take precedence over other assignment options)</td>
</tr>
<tr>
<td>via</td>
<td>id list</td>
<td>List of intermediate edges that shall be passed on <a href="Simulation/Routing.html#features_that_cause_rerouting">rerouting</a> <br><br><strong>Note:</strong> when via is not set, any <code>&lt;stop&gt;</code>-elements that belong to this route will automatically be used as intermediate edges. Otherwise via takes precedence.</td>
</tr>
<tr>
<td>departPosLat</td>
<td>float(m)/string ("random", "free", "random_free", "left", "right", "center")</td>
<td>The lateral position on the departure lane at which the vehicle shall enter the net; see <a href="Simulation/SublaneModel.html">Simulation/SublaneModel</a>. <em>default: "center"</em></td>
</tr>
<tr>
<td>arrivalPosLat</td>
<td>float(m)/string ("default", "left", "right", "center")</td>
<td>The lateral position on the arrival lane at which the vehicle shall arrive; see <a href="Simulation/SublaneModel.html">Simulation/SublaneModel</a>. by default the vehicle does not care about lateral arrival position</td>
</tr>
<tr>
<td>speedFactor</td>
<td>float &gt; 0</td>
<td>Sets custom speedFactor (factor on road speed limit) and overrides the <a href="#speed_distributions">speedFactor distribution</a> of the vehicle type</td>
</tr>
<tr>
<td>insertionChecks</td>
<td>string list</td>
<td>Sets the list of safety checks to perform during vehicle insertion. Possible values are: <code>all</code>, <code>none</code>, <code>collision</code>, <code>leaderGap</code>, <code>followerGap</code>, <code>junction</code>, <code>stop</code>, <code>arrivalSpeed</code>, <code>oncomingTrain</code>, <code>speedLimit</code>, <code>pedestrian</code>. default <em>all</em></td>
</tr>
<tr>
<td>parkingBadges</td>
<td>string list</td>
<td>list of keywords to access restricted parking areas (the default empty list will still allow access to unrestricted parking areas)</td>
</tr>
</tbody>
</table>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Any vehicle types or routes referenced by the attributes <strong>type</strong> or <strong>route</strong> must be defined <strong>before</strong> they are used. <a href="sumo.html#loading_order_of_input_files">Loading order is described here.</a></p>
</div>
<h2 id="repeated_vehicles_flows">Repeated vehicles (Flows)<a class="headerlink" href="#repeated_vehicles_flows" title="Permanent link">#</a></h2>
<p>It is possible to define repeated vehicle emissions ("flows"), which
have the same parameters as the vehicle or trip definitions except for the departure time.
The id of the created vehicles is "flowId.runningNumber" and they are
distributed either equally or randomly in the given interval. The
following additional parameters are known:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin</td>
<td>float (s) or <a href="Other/Glossary.html#t">human-readable-time</a> or one of <em>triggered</em>, <em>containerTriggered</em></td>
<td>first vehicle departure time</td>
</tr>
<tr>
<td>end</td>
<td>float(s)</td>
<td>end of departure interval (if undefined, defaults to 24 hours)</td>
</tr>
<tr>
<td>vehsPerHour</td>
<td>float(#/h)</td>
<td>number of vehicles per hour, equally spaced (not together with period or probability)</td>
</tr>
<tr>
<td>period</td>
<td>float(s) or "exp(X)" where x is float</td>
<td>if float is given, insert equally spaced vehicles at that period. If exp(X) is given, insert vehicles with exponentially distributed time gaps. This turns insertion into a <a href="https://en.wikipedia.org/wiki/Poisson_point_process">Poisson process</a> with an expected value of <em>X</em> insertions per second. (not together with vehsPerHour or probability), see also <a href="Simulation/Randomness.html#flows_with_a_random_number_of_vehicles">Simulation/Randomness</a></td>
</tr>
<tr>
<td>probability</td>
<td>float([0,1])</td>
<td>probability for emitting a vehicle each second (not together with vehsPerHour or period), see also <a href="Simulation/Randomness.html#flows_with_a_random_number_of_vehicles">Simulation/Randomness</a></td>
</tr>
<tr>
<td>number</td>
<td>int(#)</td>
<td>total number of vehicles, equally spaced</td>
</tr>
</tbody>
</table>
<p>Flow can define their route explicitly (like vehicles) or with from,to,via (like trips):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;flow</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,1,0&quot;</span><span class="w">  </span><span class="na">begin=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">end=</span><span class="w"> </span><span class="s">&quot;7200&quot;</span><span class="w"> </span><span class="na">period=</span><span class="s">&quot;900&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;BUS&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end rend&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;stop</span><span class="w"> </span><span class="na">busStop=</span><span class="s">&quot;station1&quot;</span><span class="w"> </span><span class="na">duration=</span><span class="s">&quot;30&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/flow&gt;</span>

<span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;route1&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end rend&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;flow</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type2&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,1,0&quot;</span><span class="w">  </span><span class="na">begin=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">end=</span><span class="w"> </span><span class="s">&quot;7200&quot;</span><span class="w"> </span><span class="na">period=</span><span class="s">&quot;900&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;BUS&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route1&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;stop</span><span class="w"> </span><span class="na">busStop=</span><span class="s">&quot;station1&quot;</span><span class="w"> </span><span class="na">duration=</span><span class="s">&quot;30&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/flow&gt;</span>

<span class="nt">&lt;flow</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type3&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,1,0&quot;</span><span class="w">  </span><span class="na">begin=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">end=</span><span class="w"> </span><span class="s">&quot;7200&quot;</span><span class="w"> </span><span class="na">period=</span><span class="s">&quot;900&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;BUS&quot;</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;beg&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;end&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;stop</span><span class="w"> </span><span class="na">busStop=</span><span class="s">&quot;station1&quot;</span><span class="w"> </span><span class="na">duration=</span><span class="s">&quot;30&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/flow&gt;</span>
</code></pre></div>

<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>While flow and vehicle definitions can be mixed arbitrarily, the route file always has to be sorted by departure / begin time.</p>
</div>
<p>If you want to load unsorted vehicles / flows then load the file as an additional file.
This will load the whole file at once and thus increase memory consumption. You can also use
<a href="Tools/Routes.html#sort_routespy">tools/route/sort_routes.py</a> to sort the route file.</p>
<h2 id="routes">Routes<a class="headerlink" href="#routes" title="Permanent link">#</a></h2>
<p>One may notice, that the route itself also got a
<a href="#colors">color</a> definition, so the attributes of a route
are:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>id</strong></td>
<td>id (string)</td>
<td>The name of the route</td>
</tr>
<tr>
<td><strong>edges</strong></td>
<td>id list</td>
<td>The edges the vehicle shall drive along, given as their ids, separated using spaces</td>
</tr>
<tr>
<td>color</td>
<td><a href="#colors">color</a></td>
<td>This route's color</td>
</tr>
<tr>
<td>repeat</td>
<td>int</td>
<td>The number of times that the edges of this route shall be repeated (default 0)</td>
</tr>
<tr>
<td>cycleTime</td>
<td>time (s)</td>
<td>When defining a repeating route with stops and those stops use the <code>until</code> attribute, the times will be shifted forward by 'cycleTime' on each repeat</td>
</tr>
</tbody>
</table>
<p>There are a few important things to consider when building your own
routes:</p>
<ul>
<li>Routes have to be connected. At the moment the simulation raises an
  error if the next edge of the current route is not a successor of
  the current edge or if the vehicle is not allowed to drive on any of
  the lanes. If you want the old behavior where a vehicle simply
  stopped at the end of the current edge and was possibly "teleported"
  to the next edge after a waiting time, use the Option <strong>--ignore-route-errors</strong>.</li>
<li>Routes have to contain at least one edge.</li>
<li>The route file has to be sorted by starting times. In fact this is
  only relevant, when you define a lot of routes or have large gaps
  between departure times. The simulation parameter <strong>--route-steps</strong>, which defaults
  to 200, defines the size of the time interval with which the
  simulation loads its routes. That means by default at startup, only
  routes with departure times &lt;200 are loaded, if all the vehicles
  have departed, the routes up to departure time 400 are loaded etc.
  pp. This works only if the route file is sorted. This behavior may
  be disabled by specifying --route-steps 0. It is possible to load
  unsorted route files as an additional file which will load the whole
  file at once.</li>
</ul>
<p>The first two conditions can be checked using <a href="https://github.com/eclipse-sumo/sumo/blob/main/tools/route/routecheck.py"><strong><em>&lt;SUMO_HOME&gt;</em></strong>/tools/route/routecheck.py</a>, the third can be "fixed"
using <a href="https://github.com/eclipse-sumo/sumo/blob/main/tools/route/sort_routes.py"><strong><em>&lt;SUMO_HOME&gt;</em></strong>/tools/route/sort_routes.py</a>.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>sumo may enter an infinite loop when given an unsorted route file with person definitions.</p>
</div>
<h3 id="repeated_routes">Repeated Routes<a class="headerlink" href="#repeated_routes" title="Permanent link">#</a></h3>
<p>When using attribute 'repeat' to repeat a route. The number of edges will be repeated the given number of times <em>after</em> driving them for the first time.
If route is defined as stand-alone route (defined with its own id outside a vehicle definition), any stops defined within the route will be repeated as well. If the stops use attribute 'until', they will be shifted by attribute 'cycleTime' in each iteration.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>When defining a route as child element of a vehicle, any defined stops will belong to the vehicle rather than the route and will not be repeated.</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>When a repeated route contains only a single stop, all repeated instances of the stop will be on the first iteration of the route. This can be avoided by adding a second stop slightly after first with <code>duration="0"</code></p>
</div>
<h2 id="incomplete_routes_trips_and_flows">Incomplete Routes (trips and flows)<a class="headerlink" href="#incomplete_routes_trips_and_flows" title="Permanent link">#</a></h2>
<p>Demand information for the simulation may also take the form of origin
and destination edges instead of a complete list of edges. In this case
the simulation performs fastest-path routing based on the traffic
conditions found in the network at the time of departure/flow begin.
Optionally, a list of intermediate edges can be specified with the <code>via</code>
attribute. The input format is exactly the same as that for the
<a href="duarouter.html">duarouter</a> application <a href="Demand/Shortest_or_Optimal_Path_Routing.html">and can be found here</a>.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">  </span><span class="nt">&lt;trip</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;t&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;beg&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;end&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;flow</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="na">begin=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">end=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">number=</span><span class="s">&quot;23&quot;</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;beg&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;end&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;flow</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;f2&quot;</span><span class="w"> </span><span class="na">begin=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">end=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">number=</span><span class="s">&quot;23&quot;</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;beg&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;end&quot;</span><span class="w"> </span><span class="na">via=</span><span class="s">&quot;e1 e23 e7&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<p>For more details on how to handle routing errors and influence the
routing in this case see
<a href="Demand/Automatic_Routing.html">Demand/Automatic_Routing</a>.</p>
<p><a href="Demand/Shortest_or_Optimal_Path_Routing.html">For supported attributes for flows and trips see here.</a></p>
<h3 id="traffic_assignment_zones_taz">Traffic assignment zones (TAZ)<a class="headerlink" href="#traffic_assignment_zones_taz" title="Permanent link">#</a></h3>
<p>It is also possible to let vehicles depart and arrive at <a href="Demand/Importing_O/D_Matrices.html#describing_the_taz">traffic assignment zones (TAZ)</a>.
This allows the departure and arrival edges to be selected from a
predefined list of edges. Those edges are used which minimize the travel
time from origin TAZ to destination TAZ. When loading trips into
<a href="duarouter.html">duarouter</a> the loaded travel times are used (with
empty-network travel times as default). When loading trips into
<a href="sumo.html">sumo</a>, the current travel times in the network are
used as determined by the <a href="Demand/Automatic_Routing.html">rerouting
device</a>.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">  </span><span class="nt">&lt;trip</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;t&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">fromTaz=</span><span class="s">&quot;taz1&quot;</span><span class="w"> </span><span class="na">toTaz=</span><span class="s">&quot;taz2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="nt">&lt;additional&gt;</span>
<span class="w">  </span><span class="nt">&lt;taz</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;&lt;TAZ_ID&gt;&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;&lt;EDGE_ID&gt; &lt;EDGE_ID&gt; ...&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span>...
<span class="nt">&lt;/additional&gt;</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When used in <a href="duarouter.html">duarouter</a> or <a href="sumo.html">sumo</a>, edge weights within TAZ are ignored.</p>
</div>
<p>When loading <code>&lt;taz&gt;</code> in <a href="sumo-gui.html">sumo-gui</a> the optional attribute <code>shape</code>
can be used to draw an arbitrary polygon border for visualizing the
traffic assignment zone.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>When using TAZ with <a href="sumo.html">sumo</a> and <a href="duarouter.html">duarouter</a>, their edges will be selected to minimize travel time. This is different from TAZ usage in <a href="od2trips.html">od2trips</a> where edges are selected according to a probability distribution.</p>
</div>
<h3 id="routing_between_junctions">Routing between Junctions<a class="headerlink" href="#routing_between_junctions" title="Permanent link">#</a></h3>
<p>Trips and flows may use the attributes <code>fromJunction</code>, <code>toJunction</code>, and <code>viaJunctions</code> to describe origin, destination and intermediate locations. This is a special form of TAZ-routing and it must be enabled by either setting the SUMO option <strong>--junction-taz</strong> or by loading TAZ-definitions that use the respective junction IDs. When using option <strong>--junction-taz</strong>, all edges outgoing from a junction may be used at the origin and all edges incoming to a junction may be used to reach the intermediate and final junctions.</p>
<h3 id="implicit_origin_and_destination_from_stops">Implicit Origin and Destination from Stops<a class="headerlink" href="#implicit_origin_and_destination_from_stops" title="Permanent link">#</a></h3>
<p>If a trip or flow defines at least one stop as child element, the attributes 'from' and 'to' may be omitted.
In this case the edge of the first stop will be used as the 'from'-edge and the edge of the last stop will be used as the 'to'-edge.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A good combination with an implicit origin is also setting the attribute <code>departPos="stop"</code> to make the vehicle start at the exact position of the first stop.</p>
</div>
<h2 id="a_vehicles_depart_and_arrival_parameter">A Vehicle's depart and arrival parameter<a class="headerlink" href="#a_vehicles_depart_and_arrival_parameter" title="Permanent link">#</a></h2>
<p>Using the <code>depart...</code> and
<code>arrival...</code>-attributes, it is possible to
control how a vehicle is inserted into the network and how it leaves it.</p>
<h3 id="depart">depart<a class="headerlink" href="#depart" title="Permanent link">#</a></h3>
<p>Determines the time at which the vehicle enters the network (for <code>&lt;flow&gt;</code> the
value of <strong>begin</strong> is used instead). If there is not enough space in the
network, the actual depart time may be later.</p>
<ul>
<li>When using option <strong>--max-depart-delay</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;TIME&gt;</em></a> the vehicle is discarded if unable to depart
  after the given delay</li>
<li>A random offset to the specified depart time is added for each
  vehicle when using option <strong>--random-depart-offset</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;TIME&gt;</em></a></li>
<li>When using the special value <em>triggered</em>, the vehicle will depart as
  soon as a <a href="Specification/Persons.html#riding">person enters it</a>.</li>
<li>The special value <em>begin</em> will trigger a depart at simulation start.
  This is especially useful for taxi (or other public transport) fleets.</li>
</ul>
<h3 id="departlane">departLane<a class="headerlink" href="#departlane" title="Permanent link">#</a></h3>
<p>Determines on which lane the vehicle is tried to be inserted;</p>
<ul>
<li><code>≥0</code>: the index of the lane, starting with
  rightmost=0</li>
<li>"<code>random</code>": a random lane is chosen (among all lanes that allow the vehicle)
  Only a single random lane is tested per simulation step</li>
<li>"<code>free</code>": the most free (least occupied) lane is chosen among all lanes that allow the vehicle</li>
<li>"<code>allowed</code>": the most free (least occupied) lane is chosen among all lanes that allow the vehicle and also permit continuation to the next route edge</li>
<li>"<code>best</code>": the most free (least occupied) lane is chosen among all lanes that allow the vehicle and which minimize the required number of future lane changes</li>
<li>"<code>first</code>": the rightmost lane the vehicle
  may use</li>
<li>"<code>best_prob</code>": like <code>best</code>, but in case of equally suitable lanes, a vehicle with lower <a href="#individual_speed_factor">speedFactor</a> is never inserted to the left of a vehicle with a higher <a href="#individual_speed_factor">speedFactor</a></li>
</ul>
<h3 id="departpos">departPos<a class="headerlink" href="#departpos" title="Permanent link">#</a></h3>
<p>Determines the position on the chosen departure lane at which the
vehicle is tried to be inserted;</p>
<ul>
<li><code>≥0</code>: the position on the lane, starting at the lane's begin; must be
smaller than the starting lane's length</li>
<li><code>"random"</code>: a random position is chosen; it is not retried to insert the
vehicle if the first try fails</li>
<li><code>"free"</code>: a free position (if existing) is used</li>
<li><code>"random_free"</code>: at first, ten random positions are tried, if all fail, "free" is applied</li>
<li><code>"base"</code>: the vehicle is tried to be inserted at the position which lets its
back be at the beginning of the lane (vehicle's front
position=vehicle length)</li>
<li><code>"last"</code>: the vehicle is inserted with the given speed as close as possible behind the last vehicle on the lane. If the lane is empty it is
inserted at the end of the lane instead. When departSpeed="max" is set, vehicle speed will not be adapted.</li>
<li><code>"stop"</code>: if the vehicle has a stop defined, it will depart at the endPos of the stop. If no stop is defined, the behavior defaults to <code>"base"</code></li>
<li><code>"splitFront"</code>: if the vehicle uses attribute <a href="Simulation/Railways.html#splitting_a_train"><code>depart="split"</code></a>, it will be inserted at the front of the vehicle from which it is split instead of the rear</li>
</ul>
<h3 id="departspeed">departSpeed<a class="headerlink" href="#departspeed" title="Permanent link">#</a></h3>
<p>Determines the speed of the vehicle at insertion, where maxDepartSpeed = MIN(speedLimit * speedFactor, vType_desiredMaxSpeed * speedFactor, vType_maxSpeed);</p>
<ul>
<li><code>≥0</code>: The vehicle is tried to be inserted using the given speed. If that speed is unsafe, departure is delayed.</li>
<li>"<code>random</code>": A random speed between 0 and maxDepartSpeed is used, the speed may be adapted to accommodate a leader or intersection ensure a safe distance to the leader vehicle.</li>
<li>"<code>max</code>": The maxDeparSpeed is used when possible, the speed may be lowered to accommodate a leader vehicle or intersections.</li>
<li>"<code>desired</code>": The maxDepartSpeed is used. If that speed is unsafe, departure is delayed.</li>
<li>"<code>speedLimit</code>": The speed limit of the lane is used. If that speed is unsafe, departure is delayed.</li>
<li>"<code>last</code>": The current speed of the last vehicle on the departure lane is used (or 'desired' speed if the lane is empty). If that speed is unsafe, departure is delayed.</li>
<li>"<code>avg</code>": The average speed on the departure lane is used (or the minimum of 'speedLimit' and 'desired' if the lane is empty). If that speed is unsafe, departure is delayed.</li>
</ul>
<h3 id="departedge">departEdge<a class="headerlink" href="#departedge" title="Permanent link">#</a></h3>
<p>Determines the edge along the vehicles route where the vehicle enters the network (By default this is 0: the first edge).</p>
<ul>
<li>integer index <code>≥0</code> and <code>&lt;routeLength</code>: The vehicle is inserted at the given index</li>
<li>"<code>random</code>": A random index along the route is used.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The attribute <code>departEdge</code> is ignored for <code>&lt;trip&gt;</code>s and for <code>&lt;flow&gt;</code> that do not use attribute <code>route</code> and do not define the child element <code>&lt;route&gt;</code>.</p>
</div>
<h3 id="departposlat">departPosLat<a class="headerlink" href="#departposlat" title="Permanent link">#</a></h3>
<p>The lateral position on the departure lane at which the vehicle enters the network. Defaults to 0</p>
<ul>
<li>FLOAT: the offset from the center of the line, a positive value indicates an offset to the right (in right-hand networks).</li>
<li><code>"random"</code>: a random position within the lane is chosen; it is not retried to insert the
vehicle if the first try fails</li>
<li><code>"free"</code>: a free position (if existing) is used</li>
<li><code>"random_free"</code>: at first, ten random positions are tried, if all fail, "free" is applied</li>
<li><code>"center"</code>: center of the lane (offset 0). <em>This is the default</em></li>
<li><code>"left"</code>: touching the left border of the lane</li>
<li><code>"right"</code>: touching the right border of the lane</li>
</ul>
<h3 id="arrivallane">arrivalLane<a class="headerlink" href="#arrivallane" title="Permanent link">#</a></h3>
<p>Determines the lane on which the vehicle should end its route</p>
<ul>
<li>"<code>current</code>": the vehicle will not change
its lane when nearing arrival. It will use whatever lane is more
convenient to reach its arrival position. <em>(default behavior)</em></li>
<li><code>≥0</code>: the vehicle changes lanes to end its route on the specified lane</li>
<li>"<code>random</code>": the vehicle will chose a random permitted lane on its arrival edge and if necessary change its lane to end there.</li>
<li>"<code>first</code>": the vehicle will arrive on the rightmost permitted lane.</li>
</ul>
<h3 id="arrivalpos">arrivalPos<a class="headerlink" href="#arrivalpos" title="Permanent link">#</a></h3>
<p>Determines the position along the destination edge where the vehicle is
considered to have arrived;</p>
<ul>
<li>"<code>max</code>": the vehicle will drive up to the
  end of its final lane. <em>(default behavior)</em></li>
<li><code>&lt;FLOAT&gt;</code>: the position on the lane, starting at
  the lane's begin; Negative values count from the end of the lane</li>
<li>"<code>random</code>": a random position is chosen at
  departure; If vehicle is rerouted a new random position is selected.</li>
</ul>
<h3 id="arrivalspeed">arrivalSpeed<a class="headerlink" href="#arrivalspeed" title="Permanent link">#</a></h3>
<p>Determines the speed at which the vehicle should end its route;</p>
<ul>
<li>"<code>current</code>": the vehicle will not modify
  its speed when nearing arrival. It will drive as fast as (safely)
  possible. <em>(default behavior)</em></li>
<li><code>≥0</code>: the vehicle approaches its arrival
  position to end with the specified speed</li>
</ul>
<h3 id="arrivaledge">arrivalEdge<a class="headerlink" href="#arrivaledge" title="Permanent link">#</a></h3>
<p>Determines the edge along the vehicles route where the vehicle leaves the network (By default this is final edge).</p>
<ul>
<li>integer index <code>≥0</code> and <code>&lt;routeLength</code>: The vehicle is inserted at the given index</li>
<li>"<code>random</code>": A random index along the route is used.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The attribute <code>arrivalEdge</code> is ignored for <code>&lt;trip&gt;</code>s and for <code>&lt;flow&gt;</code> that do not use attribute <code>route</code> and do not define the child element <code>&lt;route&gt;</code>.</p>
</div>
<h3 id="arrivalposlat">arrivalPosLat<a class="headerlink" href="#arrivalposlat" title="Permanent link">#</a></h3>
<p>The lateral position on the arrival lane at which the vehicle tries to finish its route</p>
<ul>
<li>FLOAT: the offset from the center of the line, a positive value indicates an offset to the right (in right-hand networks).</li>
<li><code>"default"</code>: the vehicle may arrive at an arbitrary offset</li>
<li><code>"center"</code>: center of the lane (offset 0). <em>This is the default</em></li>
<li><code>"left"</code>: touching the left border of the lane</li>
<li><code>"right"</code>: touching the right border of the lane</li>
</ul>
<h1 id="vehicle_types">Vehicle Types<a class="headerlink" href="#vehicle_types" title="Permanent link">#</a></h1>
<p>A vehicle is defined using the <code>vType</code>-element as shown below:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;2.6&quot;</span><span class="w"> </span><span class="na">decel=</span><span class="s">&quot;4.5&quot;</span><span class="w"> </span><span class="na">sigma=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;70&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<p>Having defined this, one can build vehicles of type "type1". The values
used above are the ones most of the examples use. They resemble a
standard vehicle as used within the Stefan Krauß' thesis.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;2.6&quot;</span><span class="w"> </span><span class="na">decel=</span><span class="s">&quot;4.5&quot;</span><span class="w"> </span><span class="na">sigma=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;70&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;veh1&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;edge1 edge2 edge3&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vehicle&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<p>This definition is the initial one which includes both, the definition
of the vehicle's "purely physical" parameters, such as its length, its
color, or its maximum velocity, and also the used car-following model's
parameters. Please note that even though the car-following parameters
are describing values such as max. acceleration, or max. deceleration,
they mostly do not correspond to what one would assume. The maximum
acceleration for example is not the car's maximum acceleration
possibility but rather the maximum acceleration a driver choses - even
if you have a Jaguar, you probably are not trying to go to 100km/h in 5s
when driving through a city.</p>
<p>The default car following model is based on the work of Krauß but other
models can be selected as well. Model selection and parameterization is
done by setting further <code>vType</code>-attributes as shown below. The models and their
parameters are described in the following.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;70&quot;</span><span class="w"> </span><span class="na">carFollowModel=</span><span class="s">&quot;Krauss&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;2.6&quot;</span><span class="w"> </span><span class="na">decel=</span><span class="s">&quot;4.5&quot;</span><span class="w"> </span><span class="na">sigma=</span><span class="s">&quot;0.5&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<h2 id="available_vtype_attributes">Available vType Attributes<a class="headerlink" href="#available_vtype_attributes" title="Permanent link">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many of the <a href="Vehicle_Type_Parameter_Defaults.html">defaults are vClass dependent</a>, so specifying a vClass is often enough.</p>
</div>
<p>These values have the following meanings:</p>
<table>
<thead>
<tr>
<th>Attribute Name</th>
<th>Value Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>id</strong></td>
<td>id (string)</td>
<td>-</td>
<td>The name of the vehicle type</td>
</tr>
<tr>
<td>accel</td>
<td>float</td>
<td>2.6</td>
<td>The acceleration ability of vehicles of this type (in m/s^2)</td>
</tr>
<tr>
<td>decel</td>
<td>float</td>
<td>4.5</td>
<td>The deceleration ability of vehicles of this type (in m/s^2)</td>
</tr>
<tr>
<td>apparentDecel</td>
<td>float</td>
<td><code>==decel</code></td>
<td>The apparent deceleration of the vehicle as used by the standard model (in m/s^2). The follower uses this value as expected maximal deceleration of the leader.</td>
</tr>
<tr>
<td>emergencyDecel</td>
<td>float</td>
<td>9.0</td>
<td>The maximal physically possible deceleration for the vehicle (in m/s^2).</td>
</tr>
<tr>
<td>maxAccelProfile</td>
<td>list of speed-accel pairs</td>
<td>"0.0 accel, 2778 accel"</td>
<td>The maximal physically possible acceleration for the vehicle, depending on the speed (in m/s m/s^2).</td>
</tr>
<tr>
<td>desAccelProfile</td>
<td>list of speed-accel pairs</td>
<td>"0.0 accel, 2778 accel"</td>
<td>The maximal desired acceleration for the vehicle, depending on the speed (in m/s m/s^2).</td>
</tr>
<tr>
<td>startupDelay</td>
<td>float &gt;= 0</td>
<td>0</td>
<td>The extra delay time before starting to drive after having had to stop. This is not applied after a scheduled <code>&lt;stop&gt;</code> except for <code>carFollowModel="Rail"</code></td>
</tr>
<tr>
<td>sigma</td>
<td>float</td>
<td>0.5</td>
<td><a href="#car-following_models">Car-following model</a> parameter, see below</td>
</tr>
<tr>
<td>tau</td>
<td>float</td>
<td>1.0</td>
<td><a href="#car-following_models">Car-following model</a> parameter, see below</td>
</tr>
<tr>
<td>length</td>
<td>float</td>
<td>5.0</td>
<td>The vehicle's <strong>netto</strong>-length (length) (in m)</td>
</tr>
<tr>
<td>minGap</td>
<td>float</td>
<td>2.5</td>
<td>Empty space after leader [m]</td>
</tr>
<tr>
<td>maxSpeed</td>
<td>float</td>
<td>55.55 (200 km/h) for most vehicles, see <a href="Vehicle_Type_Parameter_Defaults.html">vClass-specific defaults</a></td>
<td>The vehicle's (technical) maximum velocity (in m/s)</td>
</tr>
<tr>
<td>desiredMaxSpeed</td>
<td>float</td>
<td>2778 (1e4 km/h), 5.56 (20km/h) for bikes, 1.39 (5 km/h) for pedestrians, see <a href="Simulation/VehicleSpeed.html#desiredmaxspeed">model details</a></td>
<td>The vehicle desired maximum velocity (in m/s) is computed as <code>desiredMaxSpeed * individual_speedFactor</code>.</td>
</tr>
<tr>
<td>speedFactor</td>
<td>float or <a href="#defining_a_normal_distribution_for_vehicle_speeds">distribution spec</a></td>
<td>1.0</td>
<td>The vehicles expected multiplier for lane speed limits and desiredMaxSpeed</td>
</tr>
<tr>
<td>speedDev</td>
<td>float</td>
<td>0.1</td>
<td>The deviation of the speedFactor; see below for details (some vClasses use a different default)</td>
</tr>
<tr>
<td>color</td>
<td><a href="#colors">RGB-color</a></td>
<td>"1,1,0" (yellow)</td>
<td>This vehicle type's color</td>
</tr>
<tr>
<td>vClass</td>
<td>class (enum)</td>
<td>"passenger"</td>
<td>An abstract <a href="#abstract_vehicle_class">vehicle class (see below)</a>. By default vehicles represent regular passenger cars.</td>
</tr>
<tr>
<td>emissionClass</td>
<td>emission class (enum)</td>
<td><a href="Models/Emissions/HBEFA3-based.html">"PC_G_EU4"</a></td>
<td>An <a href="#vehicle_emission_classes">emission class (see below)</a>. By default a gasoline passenger car conforming to emission standard <em>EURO 4</em> is used.</td>
</tr>
<tr>
<td>guiShape</td>
<td>shape (enum)</td>
<td>"unknown"</td>
<td><a href="#visualization">a vehicle shape for drawing</a>. By default a standard passenger car body is drawn.</td>
</tr>
<tr>
<td>width</td>
<td>float</td>
<td>1.8</td>
<td>The vehicle's width [m] (used only for visualization with the default model, affects <a href="Simulation/SublaneModel.html">sublane model</a>)</td>
</tr>
<tr>
<td>height</td>
<td>float</td>
<td>1.5</td>
<td>The vehicle's height [m]</td>
</tr>
<tr>
<td>mass</td>
<td>float</td>
<td>1500</td>
<td>The vehicle's empty mass [kg]</td>
</tr>
<tr>
<td>collisionMinGapFactor</td>
<td>float</td>
<td>depends on carFollowModel (1.0 for most models)</td>
<td>The minimum fraction of minGap that must be maintained to the leader vehicle to avoid a collision event</td>
</tr>
<tr>
<td>imgFile</td>
<td>filename (string)</td>
<td>""</td>
<td>Image file for rendering vehicles of this type (should be grayscale to allow functional coloring)</td>
</tr>
<tr>
<td>osgFile</td>
<td>filename (string)</td>
<td>""</td>
<td>Object file for rendering with OpenSceneGraph (any of the file types supported by the available OSG-plugins)</td>
</tr>
<tr>
<td>laneChangeModel</td>
<td>lane changing model name (string)</td>
<td>'LC2013'</td>
<td>The model used for changing lanes</td>
</tr>
<tr>
<td>carFollowModel</td>
<td>car following model name (string)</td>
<td>'Krauss'</td>
<td>The model used for <a href="#car-following_models">car following</a></td>
</tr>
<tr>
<td>personCapacity</td>
<td>int</td>
<td>4</td>
<td>The number of persons (excluding an autonomous driver) the vehicle can transport.</td>
</tr>
<tr>
<td>containerCapacity</td>
<td>int</td>
<td>0</td>
<td>The number of containers the vehicle can transport.</td>
</tr>
<tr>
<td>boardingDuration</td>
<td>float</td>
<td>0.5</td>
<td>The time required by a person to board the vehicle.</td>
</tr>
<tr>
<td>loadingDuration</td>
<td>float</td>
<td>90.0</td>
<td>The time required to load a container onto the vehicle.</td>
</tr>
<tr>
<td>latAlignment</td>
<td>float, "left", "right", "center", "compact", "nice", "arbitrary"</td>
<td>"right" for bicycles, "center" otherwise</td>
<td>The preferred lateral alignment when using the <a href="Simulation/SublaneModel.html">sublane-model</a>. <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a> (in m from the center of the lane) or one of ("left", "right", "center", "compact", "nice", "arbitrary").</td>
</tr>
<tr>
<td>maxSpeedLat</td>
<td>float</td>
<td>1.0</td>
<td>The maximum lateral speed when using the <a href="Simulation/SublaneModel.html">sublane-model or continuous lane change model</a></td>
</tr>
<tr>
<td>actionStepLength</td>
<td>float</td>
<td>global default (defaults to the simulation step, configurable via <strong>--default.action-step-length</strong>)</td>
<td>The interval length for which vehicle performs its decision logic (acceleration and lane-changing). The given value is processed to the closest (if possible smaller) positive multiple of the simulation step length. See <a href="Car-Following-Models/index.html#actionsteplength">actionStepLength details</a></td>
</tr>
<tr>
<td>scale</td>
<td>float &gt;= 0</td>
<td>scaling factor for traffic. Acts as a multiplier for option <strong>--scale</strong> for all vehicles of this type. Values &lt; 1 cause a proportional reduction in traffic whereas values above 1 increase it by this factor. (default 1)</td>
<td></td>
</tr>
<tr>
<td>timeToTeleport</td>
<td>float</td>
<td></td>
<td>Override option <strong>--time-to-teleport</strong> for vehicles of this type</td>
</tr>
<tr>
<td>timeToTeleportBidi</td>
<td>float</td>
<td></td>
<td>Override option <strong>--time-to-teleport.bidi</strong> for vehicles of this type</td>
</tr>
<tr>
<td>speedFactorPremature</td>
<td>float</td>
<td></td>
<td>When set to a positive value, this may cause a train to slow down on approach to a stop whenever the stop has its <code>arrival</code> attribute set and the vehicle would otherwise be ahead of schedule. The given value is multiplied with the edge speed limit and used as a lower bound for slowing down. If option <strong>--use-stop-started</strong> is set and the stop defines the <code>started</code> attribute, this is used instead of <code>arrival</code>.</td>
</tr>
<tr>
<td>parkingBadges</td>
<td>string list</td>
<td>-</td>
<td>list of keywords to access restricted parking areas (the default empty list will still allow access to unrestricted parking areas)</td>
</tr>
</tbody>
</table>
<p>Besides values which describe the vehicle's car-following properties,
one can find definitions of the assigned vehicles' shapes, emissions,
and assignment to abstract vehicle classes. These concepts will be
described in the following. Also, you may find further descriptions of
implemented car-following models in the subsection <a href="#car-following_models">#Car-Following Models</a>.</p>
<h2 id="speed_distributions">Speed Distributions<a class="headerlink" href="#speed_distributions" title="Permanent link">#</a></h2>
<h3 id="individual_speed_factor">Individual Speed Factor<a class="headerlink" href="#individual_speed_factor" title="Permanent link">#</a></h3>
<p>The desired driving speed usually varies among the vehicle of a fleet.
In SUMO this is modeled by assigning to each vehicle an individual multiplier which gets applied to the road speed limit.
This multiplier is called the <em>individual speedFactor</em> or in short the <em>speedFactor of a vehicle</em>.
The product of road speed limit and the individual speed factor gives the desired free flow driving speed of a vehicle.
If the individual speedFactor is larger than 1, vehicles can exceed edge speeds. However, vehicle speeds are still
capped at the vehicle type's <strong>maxSpeed</strong>.</p>
<p>While it is possible to assign the individual speedFactor value directly in a <code>&lt;vehicle&gt;</code>, <code>&lt;trip&gt;</code> or even <code>&lt;flow&gt;</code> definition using attribute <code>speedFactor</code>, a more common use case is to define the distribution of these factors for a <code>&lt;vType&gt;</code>.</p>
<p>Having a distribution of speed factors (and hence of desired speeds) is beneficial to the realism of a simulation. If the desired speed is constant among a fleet of vehicles, this implies that gaps between vehicles will keep their size constant over a long time. For this reason, the individual speed factor for each simulated vehicle (whether defined as <code>&lt;vehicle&gt;</code>, <code>&lt;trip&gt;</code> or part of a <code>&lt;flow&gt;</code>) is drawn from a distribution by default.</p>
<p>The <code>speedFactor</code> of a vehicle is also multiplied with the value of <code>desiredMaxSpeed</code> of its <code>vType</code>. The resulting value gives another <a href="Simulation/VehicleSpeed.html#edgelane_speed_and_speedfactor">upper bound on speed</a>. This achieves speed distribution for road users where the speed limit is not meaningful (i.e. bicyles and pedestrians).</p>
<p>The speedFactor of a vehicle is written to various outputs (<a href="Simulation/Output/TripInfo.html">tripinfo-output</a>, <a href="Simulation/Output/VehRoutes.html">vehroute-output</a>) and can also be checked via the <a href="sumo-gui.html#object_properties_right-click-functions">vehicle parameter dialog</a>.</p>
<h3 id="defining_a_normal_distribution_for_vehicle_speeds">Defining a normal distribution for vehicle speeds<a class="headerlink" href="#defining_a_normal_distribution_for_vehicle_speeds" title="Permanent link">#</a></h3>
<p>Two types of distributions can be defined for sampling the individual speedFactor of each vehicle by giving one of the following attributes in the <code>&lt;vType&gt;</code> element
(without space characters between the distribution attributes):</p>
<ul>
<li>normal distribution:  <code>speedFactor="norm(mean,deviation)"</code></li>
<li>truncated normal distribution:   <code>speedFactor="normc(mean,deviation,lowerCutOff,upperCutOff)"</code></li>
</ul>
<p>The default for passenger cars is <code>"normc(1,0.1,0.2,2)"</code> which implies that ~95% of the vehicles drive between 80% and 120%
of the legal speed limit.</p>
<p>Instead of giving the multi-parameter definition above, a simpler definition style is also possible.</p>
<ul>
<li>setting the deviation of the distribution directly: <code>speedDev="0.3"</code></li>
<li>setting the mean of the distribution directly: <code>speedFactor="1.2"</code></li>
</ul>
<p>When using the attributes in this way, the default cut-off range [0.2, 2] remains unchanged.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The distribution mean must fall within the cut-off range. In order to use mean values below 0.2 or above 2.0, the 4-parameter version must be used to modify the cut-off parameters as well.</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Attribute <code>speedFactor</code> has three different meanings: in a <code>&lt;vehicle&gt;</code> it defines the individual speedFactor directly. In a <code>&lt;vType&gt;</code> if given as a single floating point value, it defines the mean of the speed distribution and when giving as <code>norm(...)</code> / <code>normc(...)</code>, it defines the whole distribution.</p>
</div>
<h3 id="vehicle_class_specific_defaults">Vehicle class specific defaults<a class="headerlink" href="#vehicle_class_specific_defaults" title="Permanent link">#</a></h3>
<p>When defining a vehicle type with a <em>vClass</em>, the following default speed-deviation will be used.</p>
<ul>
<li>passenger (default vClass): 0.1</li>
<li>pedestrian: 0.1</li>
<li>bicycle: 0.1</li>
<li>truck, trailer, coach, delivery, taxi: 0.05</li>
<li>tram, rail_urban, rail, rail_electric, rail_fast: 0</li>
<li>emergency: 0</li>
<li>everything else: 0.1</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>before version 1.0.0, the default speedDev values was 0</p>
</div>
<h3 id="global_configuration">Global Configuration<a class="headerlink" href="#global_configuration" title="Permanent link">#</a></h3>
<p>Instead of configuring speed distributions in a <code>&lt;vType&gt;</code> definition (as
explained below), the <a href="sumo.html">sumo</a>-option <strong>--default.speeddev</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a> can be used to set
a global default. The option value overrides all vClass-defaults. Setting <strong>--default.speeddev 0</strong> estores pre-1.0.0 behavior.</p>
<h3 id="different_distributions_for_cars_and_trucks">Different distributions for cars and trucks<a class="headerlink" href="#different_distributions_for_cars_and_trucks" title="Permanent link">#</a></h3>
<p>The center of the speed distribution is defined relative to the road speed limit. On some roads, different speed limits may apply to cars and trucks.
To model this, <a href="Networks/PlainXML.html#vehicle-class_specific_speed_limits">vClass-specific speed limits may be defined either in the network</a> or directly in an additional file:</p>
<p>Note, that the given type id refers to an edge type rather than a vehicle type. The edge type may be <a href="Netedit/editModesCommon.html#inspect">set to an arbitrary value in the network file</a>.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;type</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="na">priority=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">numLanes=</span><span class="s">&quot;3&quot;</span><span class="w"> </span><span class="na">speed=</span><span class="s">&quot;38.89&quot;</span><span class="nt">/&gt;</span>
<span class="w">   </span><span class="nt">&lt;restriction</span><span class="w"> </span><span class="na">vClass=</span><span class="s">&quot;truck&quot;</span><span class="w"> </span><span class="na">speed=</span><span class="s">&quot;27.89&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/type&gt;</span>
</code></pre></div>

<h3 id="additional_remarks_on_speed_distributions">Additional remarks on speed distributions<a class="headerlink" href="#additional_remarks_on_speed_distributions" title="Permanent link">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When used for <a href="Simulation/Pedestrians.html">pedestrians</a>, the <em>speedFactor</em> attribute is applied directly to the maximum speed of the vType since speed limits are not applicable to pedestrians</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the specified departSpeed of a vehicle exceeds the speed limit and its vType has a speedFactor deviation &gt; 0, the individual chosen speed multiplier is at least high enough to accommodate the stated depart speed.</p>
</div>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h3>
<p>Define a flow of vehicles that desire to drive at 120% of the speed limit without any deviation:</p>
<div class="codehilite"><pre><span></span><code><span class="w">  </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;example&quot;</span><span class="w"> </span><span class="na">speedFactor=</span><span class="s">&quot;1.2&quot;</span><span class="w"> </span><span class="na">speedDev=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;flow</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;f&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;example&quot;</span><span class="w"> </span><span class="na">begin=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">end=</span><span class="s">&quot;3600&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;0.2&quot;</span><span class="w"> </span><span class="na">from=</span><span class="s">&quot;A&quot;</span><span class="w"> </span><span class="na">to=</span><span class="s">&quot;B&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>

<p>Define a vehicle type with high speed deviation and no cut-off</p>
<div class="codehilite"><pre><span></span><code><span class="w">  </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;example2&quot;</span><span class="w"> </span><span class="na">speedFactor=</span><span class="s">&quot;norm(1.0,0.5)&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>

<h2 id="vehicle_length">Vehicle Length<a class="headerlink" href="#vehicle_length" title="Permanent link">#</a></h2>
<p>Due to the work on <a href="#car-following_models">car following models</a>, we decided to use two values
for vehicle length. The <code>length</code>-attribute
describes the length of the vehicle itself. Additionally, the
<code>minGap</code>-attribute describes the offset to the
leading vehicle when standing in a jam.</p>
<p>This is illustrated in the following image:</p>
<p><img alt="Length_vs_minGap" src="images/Length_vs_minGap.svg" title="length vs minGap" /></p>
<p>Within the simulation, each vehicle needs - when ignoring the safe gap -
<code>length</code>+<code>minGap</code>.
But only <code>length</code> of the road should be marked
as being occupied.</p>
<h2 id="abstract_vehicle_class">Abstract Vehicle Class<a class="headerlink" href="#abstract_vehicle_class" title="Permanent link">#</a></h2>
<p>A SUMO vehicle may be assigned to an "abstract vehicle class", defined
by using the attribute <code>vClass</code>. These classes
are used in lane definitions and allow/disallow the usage of lanes for
certain vehicle types. One may think of having a road with three lanes,
where the rightmost may only be used by "taxis" or "buses". The default
vehicle class is <strong>passenger</strong> (denoting normal passenger cars).</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Routing or insertion may fail due to a mismatch between a vehicles <code>vClass</code> and the <a href="Simulation/VehiclePermissions.html#network_definition">road permissions</a>. This can be diagnosed in <a href="sumo-gui.html#road_access_permissions">sumo-gui by highlighting edges according to their permissions</a>.</p>
</div>
<p>The following vehicle classes exist:</p>
<table>
<thead>
<tr>
<th>vClass</th>
<th>bitmask bit</th>
<th>comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>ignoring</td>
<td>- (all bits set to 0)</td>
<td>may drive on all lanes regardless of set permissions.</td>
</tr>
<tr>
<td>private</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>emergency</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>authority</td>
<td>2</td>
<td></td>
</tr>
<tr>
<td>army</td>
<td>3</td>
<td></td>
</tr>
<tr>
<td>vip</td>
<td>4</td>
<td></td>
</tr>
<tr>
<td>pedestrian</td>
<td>5</td>
<td>lanes which only allow this class are considered to be 'sidewalks' in <a href="netconvert.html">netconvert</a></td>
</tr>
<tr>
<td><strong>passenger</strong></td>
<td>6</td>
<td>This is the default vehicle class and denotes regular passenger traffic</td>
</tr>
<tr>
<td>hov</td>
<td>7</td>
<td><a href="https://en.wikipedia.org/wiki/High-occupancy_vehicle_lane">High-occupancy vehicle</a></td>
</tr>
<tr>
<td>taxi</td>
<td>8</td>
<td></td>
</tr>
<tr>
<td>bus</td>
<td>9</td>
<td>urban line traffic</td>
</tr>
<tr>
<td>coach</td>
<td>10</td>
<td>overland transport</td>
</tr>
<tr>
<td>delivery</td>
<td>11</td>
<td>Allowed on service roads that are not meant for public traffic</td>
</tr>
<tr>
<td>truck</td>
<td>12</td>
<td></td>
</tr>
<tr>
<td>trailer</td>
<td>13</td>
<td>truck with trailer</td>
</tr>
<tr>
<td>motorcycle</td>
<td>14</td>
<td></td>
</tr>
<tr>
<td>moped</td>
<td>15</td>
<td>motorized 2-wheeler which may not drive on motorways</td>
</tr>
<tr>
<td>bicycle</td>
<td>16</td>
<td></td>
</tr>
<tr>
<td>evehicle</td>
<td>17</td>
<td>future mobility concepts such as electric vehicles which may get special access rights</td>
</tr>
<tr>
<td>tram</td>
<td>18</td>
<td></td>
</tr>
<tr>
<td>rail_urban</td>
<td>19</td>
<td>heavier than 'tram' but distinct from 'rail'. Encompasses <a href="https://en.wikipedia.org/wiki/Light_Rail">Light Rail</a> and <a href="https://en.wikipedia.org/wiki/S-Bahn">S-Bahn</a></td>
</tr>
<tr>
<td>rail</td>
<td>20</td>
<td>heavy rail</td>
</tr>
<tr>
<td>rail_electric</td>
<td>21</td>
<td>heavy rail vehicle that may only drive on electrified tracks</td>
</tr>
<tr>
<td>rail_fast</td>
<td>22</td>
<td><a href="https://en.wikipedia.org/wiki/High-speed_rail">High-speed-rail</a></td>
</tr>
<tr>
<td>ship</td>
<td>23</td>
<td>basic class for navigating waterways</td>
</tr>
<tr>
<td>custom1</td>
<td>24</td>
<td>reserved for user-defined semantics</td>
</tr>
<tr>
<td>custom2</td>
<td>25</td>
<td>reserved for user-defined semantics</td>
</tr>
</tbody>
</table>
<p>These values are a "best guess" of somehow meaningful values, surely
worth to be discussed. Though, in parts, they represent classes found in
imported formats. They are "abstract" in the means that they are just
names only, one could build a .5m long bus.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>vClass</code> values are mainly used for determining access restrictions for lanes and edges. Since version 0.21.0 they will also affect the defaults of some other <code>vType</code> parameters. These defaults are documented at <a href="Vehicle_Type_Parameter_Defaults.html">Vehicle_Type_Parameter_Defaults</a>.</p>
</div>
<p>The following vehicle deprecated classes exist for maintaining backward
compatibility:</p>
<table>
<thead>
<tr>
<th>deprecated vClass</th>
<th>replacement</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public_emergency</code></td>
<td>deprecated. use 'emergency'</td>
</tr>
<tr>
<td><code>public_authority</code></td>
<td>deprecated, use 'authority'</td>
</tr>
<tr>
<td><code>public_army</code></td>
<td>deprecated, use 'army'</td>
</tr>
<tr>
<td><code>public_transport</code></td>
<td>deprecated, use 'bus'</td>
</tr>
<tr>
<td><code>transport</code></td>
<td>deprecated, use 'truck'</td>
</tr>
<tr>
<td><code>lightrail</code></td>
<td>deprecated, use 'tram'</td>
</tr>
<tr>
<td><code>cityrail</code></td>
<td>deprecated, use 'rail_urban'</td>
</tr>
<tr>
<td><code>rail_slow</code></td>
<td>deprecated, use 'rail'</td>
</tr>
</tbody>
</table>
<h2 id="vehicle_emission_classes">Vehicle Emission Classes<a class="headerlink" href="#vehicle_emission_classes" title="Permanent link">#</a></h2>
<p>The emission class represents a certain emission class. It is defined
using the <code>emissionClass</code> attribute. Possible
values are given in <a href="Models/Emissions.html">Models/Emissions</a> and
its subsections.</p>
<h2 id="visualization">Visualization<a class="headerlink" href="#visualization" title="Permanent link">#</a></h2>
<p>For a nicer visualization of the traffic, the appearance of a vehicle
type's vehicles may be changed by assigning them a certain shape using
the <code>guiShape</code> attribute. These shapes are
used when setting the drawing mode for vehicles to <strong>simple shapes</strong>.
The following shapes are known:</p>
<ul>
<li>"pedestrian"</li>
<li>"bicycle"</li>
<li>"moped"</li>
<li>"motorcycle"</li>
<li>"passenger"</li>
<li>"passenger/sedan"</li>
<li>"passenger/hatchback"</li>
<li>"passenger/wagon"</li>
<li>"passenger/van"</li>
<li>"taxi"</li>
<li>"delivery"</li>
<li>"truck"</li>
<li>"truck/semitrailer" (13.5)</li>
<li>"truck/trailer" (6.75)</li>
<li>"bus"</li>
<li>"bus/coach" (8.25)</li>
<li>"bus/flexible" (8.25)</li>
<li>"bus/trolley"</li>
<li>"rail" (24.5)</li>
<li>"rail/railcar" (16.85)</li>
<li>"rail/cargo" (13.86)</li>
<li>"evehicle"</li>
<li>"ant"</li>
<li>"ship"</li>
<li>"emergency"</li>
<li>"firebrigade"</li>
<li>"police"</li>
<li>"rickshaw"</li>
<li>"scooter"</li>
<li>"aircraft"</li>
</ul>
<p>Some of these classes are drawn as a sequence of carriages. The length
of a single carriage is indicated in parentheses after the type. For
these types, the length of the vehicleType is used as the overall length
of the train (all carriages combined). For example, a vehicle with shape
<code>rail/cargo</code> and length 70m will have 5
carriages. The number of carriages will always be a whole number and no
carriage will be shorter than the length given in brackets but may be
longer to meet the length requirements of the whole vehicle. When
drawing vehicles with raster images, the image will be repeated for each
carriage.</p>
<p>In addition, one can determine the width of the vehicle using the
attribute <code>width</code>. When using shapes, one
should consider that different vehicle classes (passenger vehicles or
buses) have different lengths. Passenger vehicles with more than 10m
length look quite odd, buses with 2m length, too.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Not all of these named shapes have a distinct visualization.</p>
</div>
<h2 id="carriages_custom_visualization">Carriages, custom visualization<a class="headerlink" href="#carriages_custom_visualization" title="Permanent link">#</a></h2>
<p>Further parameters can be used to achieve visualization of <a href="Simulation/Railways.html#trains">individual rail carriages</a> and configure exiting behavior at stations.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;rail&quot;</span><span class="w"> </span><span class="na">vClass=</span><span class="s">&quot;rail&quot;</span><span class="w"> </span><span class="na">imgFile=</span><span class="s">&quot;locomotive.png&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;carriageLength&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;20&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;carriageGap&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;carriageImages&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;freight.png,passengers.png&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;locomotiveLength&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;25&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;frontSeatPos&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1.7&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;seatingWidth&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;2.0&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;carriageDoors&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;scaleVisual&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;1.5&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/vType&gt;</span>
</code></pre></div>

<h2 id="car-following_models">Car-Following Models<a class="headerlink" href="#car-following_models" title="Permanent link">#</a></h2>
<p>The car-following models currently implemented in SUMO are given in the
following table.</p>
<table>
<thead>
<tr>
<th>Element Name <em>(deprecated)</em></th>
<th>Attribute Value <em>(when declaring as attribute)</em></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>carFollowing-Krauss</td>
<td>Krauss</td>
<td>The Krauß-model with some modifications which is the default model used in SUMO</td>
</tr>
<tr>
<td>carFollowing-KraussOrig1</td>
<td>KraussOrig1</td>
<td>The original Krauß-model</td>
</tr>
<tr>
<td>carFollowing-PWagner2009</td>
<td>PWagner2009</td>
<td>A model by Peter Wagner, using Todosiev's action points</td>
</tr>
<tr>
<td>carFollowing-BKerner</td>
<td>BKerner</td>
<td>A model by Boris Kerner<br><br><strong>Caution:</strong> currently under work</td>
</tr>
<tr>
<td>carFollowing-IDM</td>
<td>IDM</td>
<td>The Intelligent Driver Model by Martin Treiber<br><br><strong>Caution:</strong> Default parameters result in very conservative lane changing gap acceptance</td>
</tr>
<tr>
<td>carFollowing-IDMM</td>
<td>IDMM</td>
<td>Variant of IDMM<br><br><strong>Caution:</strong> lacking documentation</td>
</tr>
<tr>
<td>carFollowing-EIDM</td>
<td>EIDM</td>
<td><a href="Car-Following-Models/EIDM.html">Extended Intelligent Driver Model for subsecond simulation by Dominik Salles</a></td>
</tr>
<tr>
<td>carFollowing-KraussPS</td>
<td>KraussPS</td>
<td>the default Krauss model with consideration of road slope</td>
</tr>
<tr>
<td>carFollowing-KraussAB</td>
<td>KraussAB</td>
<td>the default Krauss model with bounded acceleration (only relevant when using PHEM classes)</td>
</tr>
<tr>
<td>carFollowing-SmartSK</td>
<td>SmartSK</td>
<td>Variant of the default Krauss model<br><br><strong>Caution:</strong> lacking documentation</td>
</tr>
<tr>
<td>carFollowing-Wiedemann</td>
<td>Wiedemann</td>
<td>Car following model by Wiedemann (2-Parameters)</td>
</tr>
<tr>
<td>carFollowing-W99</td>
<td>W99</td>
<td>Car following model by Wiedemann, <a href="https://w99demo.com/">10-Parameter version</a></td>
</tr>
<tr>
<td>carFollowing-Daniel1</td>
<td>Daniel1</td>
<td>Car following model by Daniel Krajzewicz<br><br><strong>Caution:</strong> lacking documentation</td>
</tr>
<tr>
<td>carFollowing-ACC</td>
<td>ACC</td>
<td><a href="Car-Following-Models/ACC.html">Car following model by Milanés V. and Shladover S.E.</a></td>
</tr>
<tr>
<td>carFollowing-CACC</td>
<td>CACC</td>
<td><a href="Car-Following-Models/CACC.html">Car following model by Milanés V. and Shladover S.E.</a></td>
</tr>
<tr>
<td>carFollowing-Rail</td>
<td>Rail</td>
<td><a href="Simulation/Railways.html#modelling_trains">Model for various train types</a></td>
</tr>
</tbody>
</table>
<h3 id="car-following_model_parameters">Car-Following Model Parameters<a class="headerlink" href="#car-following_model_parameters" title="Permanent link">#</a></h3>
<p>Mostly, each model uses its own set of parameters. The following table
lists which parameter are used by which model(s). <a href="Car-Following-Models/index.html">Details on car-following models and their parameters can be found here</a>.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Default</th>
<th>Range</th>
<th>Description</th>
<th>Models</th>
</tr>
</thead>
<tbody>
<tr>
<td>minGap</td>
<td><a href="Vehicle_Type_Parameter_Defaults.html">vClass-specific</a></td>
<td>&gt;= 0</td>
<td>Minimum Gap when standing (m)</td>
<td>all models</td>
</tr>
<tr>
<td>accel</td>
<td><a href="Vehicle_Type_Parameter_Defaults.html">vClass-specific</a></td>
<td>&gt;= 0</td>
<td>The acceleration ability of vehicles of this type (in m/s^2)</td>
<td>all models</td>
</tr>
<tr>
<td>decel</td>
<td><a href="Vehicle_Type_Parameter_Defaults.html">vClass-specific</a></td>
<td>&gt;= 0</td>
<td>The deceleration ability of vehicles of this type (in m/s^2)</td>
<td>all models</td>
</tr>
<tr>
<td>emergencyDecel</td>
<td><a href="Vehicle_Type_Parameter_Defaults.html">vClass-specific</a></td>
<td>&gt;= decel</td>
<td>The maximum deceleration ability of vehicles of this type in case of emergency (in m/s^2)</td>
<td>all models except "Daniel1"</td>
</tr>
<tr>
<td>speedTable</td>
<td>-</td>
<td>list of float &gt;= 0</td>
<td>list of speed values to be used together with any of the following attributes: <code>resistanceTable</code>, <code>tractionTable</code>, <code>maxAccelProfile</code>, <code>desAccelProfile</code></td>
<td></td>
</tr>
<tr>
<td>maxAccelProfile</td>
<td>-</td>
<td>list of float &gt;= 0</td>
<td>The maximal physically possible acceleration for the vehicle corresponding to the same index in <code>speedTable</code> (in m/s m/s^2)</td>
<td>all models</td>
</tr>
<tr>
<td>desAccelProfile</td>
<td>-</td>
<td>list of float &gt;= 0</td>
<td>The maximal desired acceleration for the vehicle corresponding to the same index in <code>speedTable</code> (in m/s m/s^2)</td>
<td>all models</td>
</tr>
<tr>
<td>tractionTable</td>
<td><code>trainType</code>-specific</td>
<td>list of float &gt;= 0</td>
<td>The traction force in kN corresponding to the same index in <code>speedTable</code> (in m/s m/s^2)</td>
<td>Rail</td>
</tr>
<tr>
<td>resistanceTable</td>
<td><code>trainType</code>-specific</td>
<td>list of float &gt;= 0</td>
<td>The braking resistance force in kN corresponding to the same index in <code>speedTable</code> (in m/s m/s^2)</td>
<td>Rail</td>
</tr>
<tr>
<td>startupDelay</td>
<td>0</td>
<td>&gt;=0</td>
<td>The extra delay time before starting to drive after having had to stop. This is not applied after a scheduled <code>&lt;stop&gt;</code> except for <code>carFollowModel="Rail"</code></td>
<td>all models except "Daniel1"</td>
</tr>
<tr>
<td>sigma</td>
<td>0.5</td>
<td>[0,1]</td>
<td>The driver imperfection (0 denotes perfect driving)</td>
<td>Krauss, SKOrig, PW2009</td>
</tr>
<tr>
<td>sigmaStep</td>
<td>step-length</td>
<td>&gt; 0</td>
<td>The frequency for updating the acceleration associated with driver imperfection. If set to a constant value (i.e <em>1</em>), this decouples the driving imperfection from the simulation step-length</td>
<td>Krauss, SKOrig, PW2009</td>
</tr>
<tr>
<td>tau</td>
<td>1</td>
<td>&gt;= 0</td>
<td>The driver's desired (minimum) time headway. Exact interpretation varies by model. For the default model <em>Krauss</em> this is based on the net space between leader back and follower front). For limitations, see <a href="Car-Following-Models/index.html#tau">Car-Following-Models#tau</a>).</td>
<td>all models</td>
</tr>
<tr>
<td>k</td>
<td></td>
<td></td>
<td></td>
<td>Kerner</td>
</tr>
<tr>
<td>phi</td>
<td></td>
<td></td>
<td></td>
<td>Kerner</td>
</tr>
<tr>
<td>delta</td>
<td>4</td>
<td></td>
<td>acceleration exponent</td>
<td>IDM, EIDM</td>
</tr>
<tr>
<td>stepping</td>
<td>0.25</td>
<td>&gt;= 0</td>
<td>the internal step length (in s) when computing follow speed</td>
<td>IDM, EIDM</td>
</tr>
<tr>
<td>adaptFactor</td>
<td>1.8</td>
<td>&gt;= 0</td>
<td>the factor for taking into account past level of service</td>
<td>IDMM</td>
</tr>
<tr>
<td>adaptTime</td>
<td>600</td>
<td>&gt;= 0</td>
<td>the time interval (in s) for relaxing past level of service</td>
<td>IDMM</td>
</tr>
<tr>
<td>security</td>
<td>0.5</td>
<td></td>
<td>desire for security</td>
<td>Wiedemann</td>
</tr>
<tr>
<td>estimation</td>
<td>0.5</td>
<td></td>
<td>accuracy of situation estimation</td>
<td>Wiedemann</td>
</tr>
<tr>
<td>speedControlGain</td>
<td>-0.4</td>
<td></td>
<td>The control gain determining the rate of speed deviation (Speed control mode)</td>
<td>ACC</td>
</tr>
<tr>
<td>gapClosingControlGainSpeed</td>
<td>0.8</td>
<td></td>
<td>The control gain determining the rate of speed deviation (Gap closing control mode)</td>
<td>ACC</td>
</tr>
<tr>
<td>gapClosingControlGainSpace</td>
<td>0.04</td>
<td></td>
<td>The control gain determining the rate of positioning deviation (Gap closing control mode)</td>
<td>ACC</td>
</tr>
<tr>
<td>gapControlGainSpeed</td>
<td>0.07</td>
<td></td>
<td>The control gain determining the rate of speed deviation (Gap control mode)</td>
<td>ACC</td>
</tr>
<tr>
<td>gapControlGainSpace</td>
<td>0.23</td>
<td></td>
<td>The control gain determining the rate of positioning deviation (Gap control mode)</td>
<td>ACC</td>
</tr>
<tr>
<td>collisionAvoidanceGainSpace</td>
<td>0.8</td>
<td></td>
<td>The control gain determining the rate of positioning deviation (Collision avoidance mode)</td>
<td>ACC</td>
</tr>
<tr>
<td>collisionAvoidanceGainSpeed</td>
<td>0.23</td>
<td></td>
<td>The control gain determining the rate of speed deviation (Collision avoidance mode)</td>
<td>ACC</td>
</tr>
<tr>
<td>collisionAvoidanceOverride</td>
<td>2</td>
<td></td>
<td>If the ACC followSpeed is higher than the Krauss-followSpeed by the given value X, limit the speed to Krauss-speed + X to avoid collision</td>
<td>ACC, CACC</td>
</tr>
<tr>
<td>speedControlGainCACC</td>
<td>-0.4</td>
<td></td>
<td>The control gain determining the rate of speed deviation (Speed control mode)</td>
<td>CACC</td>
</tr>
<tr>
<td>gapClosingControlGainGap</td>
<td>0.005</td>
<td></td>
<td>The control gain determining the rate of positioning deviation (Gap closing control mode)</td>
<td>CACC</td>
</tr>
<tr>
<td>gapClosingControlGainGapDot</td>
<td>0.05</td>
<td></td>
<td>The control gain determining the rate of the positioning deviation derivative (Gap closing control mode)</td>
<td>CACC</td>
</tr>
<tr>
<td>gapControlGainGap</td>
<td>0.45</td>
<td></td>
<td>The control gain determining the rate of positioning deviation (Gap control mode)</td>
<td>CACC</td>
</tr>
<tr>
<td>gapControlGainGapDot</td>
<td>0.0125</td>
<td></td>
<td>The control gain determining the rate of the positioning deviation derivative (Gap control mode)</td>
<td>CACC</td>
</tr>
<tr>
<td>collisionAvoidanceGainGap</td>
<td>0.45</td>
<td></td>
<td>The control gain determining the rate of positioning deviation (Collision avoidance mode)</td>
<td>CACC</td>
</tr>
<tr>
<td>collisionAvoidanceGainGapDot</td>
<td>0.05</td>
<td></td>
<td>The control gain determining the rate of the positioning deviation derivative (Collision avoidance mode)</td>
<td>CACC</td>
</tr>
<tr>
<td>applyDriverState</td>
<td>0</td>
<td>0 or 1</td>
<td>When set to 1 reduced awareness translates to perception errors when equipped with a <a href="Driver_State.html">DriverState device</a></td>
<td>ACC, CACC</td>
</tr>
<tr>
<td>cc1</td>
<td>1.30</td>
<td></td>
<td>Spacing Time - s</td>
<td>W99</td>
</tr>
<tr>
<td>cc2</td>
<td>8.00</td>
<td></td>
<td>Following Variation - m</td>
<td>W99</td>
</tr>
<tr>
<td>cc3</td>
<td>-12.00</td>
<td></td>
<td>Threshold for Entering "Following" - s</td>
<td>W99</td>
</tr>
<tr>
<td>cc4</td>
<td>-0.25</td>
<td></td>
<td>Negative "Following" Threshold - m/s</td>
<td>W99</td>
</tr>
<tr>
<td>cc5</td>
<td>0.35</td>
<td></td>
<td>Positive "Following" Threshold - m/s</td>
<td>W99</td>
</tr>
<tr>
<td>cc6</td>
<td>6.00</td>
<td></td>
<td>Speed Dependency of Oscillation - 10^-4 rad/s</td>
<td>W99</td>
</tr>
<tr>
<td>cc7</td>
<td>0.25</td>
<td></td>
<td>Oscillation Acceleration - m/s^2</td>
<td>W99</td>
</tr>
<tr>
<td>cc8</td>
<td>2.00</td>
<td></td>
<td>Standstill Acceleration - m/s^2</td>
<td>W99</td>
</tr>
<tr>
<td>cc9</td>
<td>1.50</td>
<td></td>
<td>Acceleration at 80km/h - m/s^2</td>
<td>W99</td>
</tr>
<tr>
<td>trainType</td>
<td></td>
<td></td>
<td><a href="Simulation/Railways.html#modelling_trains">string id for pre-defined train type</a></td>
<td>Rail</td>
</tr>
<tr>
<td>tpreview</td>
<td>4.00</td>
<td>&gt;= 1</td>
<td>The look ahead time headway for the desired speed. Lower values result in late and hard braking when turning at junctions or when speed limits change (s)</td>
<td>EIDM</td>
</tr>
<tr>
<td>tPersDrive</td>
<td>3.00</td>
<td>&gt;= 1</td>
<td>Correlation time of the Wiener Process for the driving error (originally from <a href="https://doi.org/10.1016/j.physa.2005.05.001">Human Driver Model</a>) (s)</td>
<td>EIDM</td>
</tr>
<tr>
<td>tPersEstimate</td>
<td>10.00</td>
<td>&gt;= 1</td>
<td>Correlation time of the Wiener Process for the estimation errors (originally from <a href="https://doi.org/10.1016/j.physa.2005.05.001">Human Driver Model</a>) (s)</td>
<td>EIDM</td>
</tr>
<tr>
<td>treaction</td>
<td>0.50</td>
<td>&gt;= 0</td>
<td>The interval length for which CF-model performs its decision logic (acceleration only). Works similar to the <a href="Car-Following-Models/index.html#actionsteplength">actionStepLength</a> attribute, but here it can be seen as a maximal value. The driver will react faster in critical situations. ActionStepLength/Driverstate should not be used together with this model <a href="https://doi.org/10.1016/j.trpro.2017.05.011">Reference</a> (s)</td>
<td>EIDM</td>
</tr>
<tr>
<td>ccoolness</td>
<td>0.99</td>
<td>[0,1]</td>
<td>Coolness Parameter, the driver takes the acceleration of the leading vehicle into account. How cool the driver reacts to lane changes, which reduce the gap to the next leading vehicle. 0 means that this term is not used at all. (originally from <a href="https://doi.org/10.1098/rsta.2010.0084">Enhanced Intelligent Driver Model</a> (-)</td>
<td>EIDM</td>
</tr>
<tr>
<td>sigmaleader</td>
<td>0.02</td>
<td>[0,1]</td>
<td>Estimation error magnitude of the leading vehicle's speed (originally from <a href="https://doi.org/10.1016/j.physa.2005.05.001">Human Driver Model</a>) (-)</td>
<td>EIDM</td>
</tr>
<tr>
<td>sigmagap</td>
<td>0.10</td>
<td>[0,1]</td>
<td>Estimation error magnitude of the gap between the vehicle and the leading vehicle (originally from <a href="https://doi.org/10.1016/j.physa.2005.05.001">Human Driver Model</a>) (-)</td>
<td>EIDM</td>
</tr>
<tr>
<td>sigmaerror</td>
<td>0.10</td>
<td>[0,1]</td>
<td>Driving error magnitude (originally from <a href="https://doi.org/10.1016/j.physa.2005.05.001">Human Driver Model</a>) (-)</td>
<td>EIDM</td>
</tr>
<tr>
<td>jerkmax</td>
<td>3.00</td>
<td>&gt;= 1</td>
<td>The maximal change in acceleration between simulation steps (m/s^3)</td>
<td>EIDM</td>
</tr>
<tr>
<td>epsilonacc</td>
<td>1.00</td>
<td>&gt;= 0</td>
<td>Maximal acceleration difference between simulation steps. The driver reacts immediately when the computed threshold is reached (originally from <a href="https://doi.org/10.1016/j.trpro.2017.05.011">Reference</a>) (m/s^2)</td>
<td>EIDM</td>
</tr>
<tr>
<td>taccmax</td>
<td>1.20</td>
<td>&gt;= 0</td>
<td>Time it approx. takes the driver to reach the maximal acceleration after drive-off (s)</td>
<td>EIDM</td>
</tr>
<tr>
<td>Mflatness</td>
<td>2.00</td>
<td>&gt;= 1 &amp; &lt;= 5.0</td>
<td>Value to flatten the drive-off acceleration curve (-)</td>
<td>EIDM</td>
</tr>
<tr>
<td>Mbegin</td>
<td>0.70</td>
<td>&gt;= 0 &amp; &lt;= 1.5</td>
<td>Value to shift the drive-off acceleration curve along the x-axis (-)</td>
<td>EIDM</td>
</tr>
<tr>
<td>maxvehpreview</td>
<td>0</td>
<td>&gt;= 0</td>
<td>- not yet integrated - Number of vehicles the driver can see for spatial anticipation (originally from <a href="https://doi.org/10.1016/j.physa.2005.05.001">Human Driver Model</a>) (-)</td>
<td>EIDM</td>
</tr>
<tr>
<td>vehdynamics</td>
<td>0</td>
<td>0 or 1</td>
<td>- not yet integrated - Bool variable to add vehicle resistance terms to the CF-model's acceleration calculation (turn on=1/off=0) (-)</td>
<td>EIDM</td>
</tr>
</tbody>
</table>
<p>To select a car following model the following syntax should be used:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;idmAlternative&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">minGap=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="na">carFollowModel=</span><span class="s">&quot;IDM&quot;</span><span class="w"> </span><span class="na">tau=</span><span class="s">&quot;1.0&quot;</span><span class="w"> </span><span class="err">...</span><span class="nt">/&gt;</span>
</code></pre></div>

<h3 id="default_krauss_model_description">Default <em>Krauss</em> Model Description<a class="headerlink" href="#default_krauss_model_description" title="Permanent link">#</a></h3>
<p>The default model is a modification of the model defined by Stefan Krauß
in <a href="https://sumo.dlr.de/pdf/KraussDiss.pdf">Microscopic Modeling of Traffic Flow: Investigation of Collision Free Vehicle Dynamics</a>. The
implemented model follows the same idea as that of Krauß, namely: Let
vehicles drive as fast as possibly while maintaining perfect safety
(always being able to avoid a collision if the leader starts braking
within leader and follower maximum acceleration bounds). The implemented
model as in <a href="https://github.com/eclipse-sumo/sumo/blob/main/src/microsim/cfmodels/MSCFModel_Krauss.cpp"><strong><em>&lt;SUMO_HOME&gt;</em></strong>/src/microsim/cfmodels/MSCFModel_Krauss.cpp</a> has the following differences:</p>
<ul>
<li>Different deceleration capabilities among the vehicles are handled
  without violating safety (the original model allowed for collisions
  in this case)</li>
<li>The formula for safe velocity was adapted to maintain safety when
  using the <em>Ballistic</em>-position update rule. This was done by
  discretizing some of the continuous terms. The original model was
  defined for the <em>Euler</em>-position updated rule and would produce
  collisions when using <em>Ballistic</em>. See also
  <a href="Simulation/Basic_Definition.html#defining_the_integration_method">Simulation/Basic_Definition#Defining_the_Integration_Method</a>.</li>
</ul>
<h3 id="transient_carfollowmodel_parameters">Transient carFollowModel Parameters<a class="headerlink" href="#transient_carfollowmodel_parameters" title="Permanent link">#</a></h3>
<p>carFollowModel parameters that are expected to change during the simulation are modelled via <a href="Simulation/GenericParameters.html">generic parameters</a>. The following parameters are supported (via xml input and <code>traci.vehicle.setParameter</code>):</p>
<ul>
<li>carFollowModel.ignoreIDs : ignore foe vehicles with the given ids</li>
<li>carFollowModel.ignoreTypes : ignore foe vehicles that have any of the given types</li>
</ul>
<p>If multiple ignore parameters are set, they are combined with "or".
Foes are ignored while they are being followed.
Example:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;ego&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;r0&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;carFollowModel.ignoreIDs&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;foe1 foe2&quot;</span><span class="nt">/&gt;</span>
<span class="w">   </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;carFollowModel.ignoreTypes&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;bikeType&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/vehicle&gt;</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These parameters take no effect in <a href="Simulation/Meso.html">meso</a></p>
</div>
<p>See also <a href="#transient_parameters">transient junctionModel parameters</a>.</p>
<h2 id="lane-changing_models">Lane-Changing Models<a class="headerlink" href="#lane-changing_models" title="Permanent link">#</a></h2>
<p>The lane-changing models currently implemented in SUMO are given in the
following table.</p>
<table>
<thead>
<tr>
<th>Attribute Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LC2013</td>
<td>The default lane changing model, developed by Jakob Erdmann based on DK2008 (see <a href="https://elib.dlr.de/102254/">SUMO’s Lane-Changing Model</a>). This is the default model.</td>
</tr>
<tr>
<td>SL2015</td>
<td>Lane-changing model for <a href="Simulation/SublaneModel.html">sublane-simulation</a> (used by default when setting option <strong>--lateral-resolution</strong> <a href="/docs/Basics/Notation.html#referenced_data_types"><em>&lt;FLOAT&gt;</em></a>). This model can only be used with the sublane-extension.<br><br><strong>Caution:</strong> This model may technically be used without activating sublane-simulation but this usage has not been fully tested and may not work as expected.</td>
</tr>
<tr>
<td>DK2008</td>
<td>The original lane-changing model of sumo until version 0.18.0, developed by Daniel Krajzewicz (see <a href="https://link.springer.com/chapter/10.1007/978-1-4419-6142-6_7">Traffic Simulation with SUMO – Simulation of Urban Mobility</a>).</td>
</tr>
</tbody>
</table>
<p>Mostly, each model uses its own set of parameters. The following table
lists which parameter are used by which model(s).</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Models</th>
</tr>
</thead>
<tbody>
<tr>
<td>lcStrategic</td>
<td>The eagerness for performing strategic lane changing. Higher values result in earlier lane-changing. <em>default: 1.0, range [0-inf), -1</em>  A value of 0 sets the lookahead-distance to 0 (vehicles can still change at the end of their lane) whereas -1 disables strategic changing completely.</td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcCooperative</td>
<td>The willingness for performing cooperative lane changing. Lower values result in reduced cooperation. <em>default: 1.0, range [0-1]</em> , -1  A value of 0 would still permit changing if the target lane affords higher speed whereas -1 disables cooperative changing completely</td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcSpeedGain</td>
<td>The eagerness for performing lane changing to gain speed. Higher values result in more lane-changing. <em>default: 1.0, range [0-inf)</em>  A value of 0 disables lane changing for speed gain</td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcKeepRight</td>
<td>The eagerness for following the obligation to keep right. Higher values result in earlier lane-changing. <em>default: 1.0, range [0-inf)</em> A value of 0 disables this type of changing.</td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcContRight</td>
<td>The probability for selecting the rightmost lane whenever the number of lanes increases. <em>default: 1.0, range [0-1]</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcOvertakeRight</td>
<td>The probability for violating rules against overtaking on the right <em>default: 0, range [0-1]</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcOpposite</td>
<td>The eagerness for overtaking through the opposite-direction lane. Higher values result in more lane-changing. <em>default: 1.0, range [0-inf)</em></td>
<td>LC2013</td>
</tr>
<tr>
<td>lcStrategicLookahead</td>
<td>Lookahead distance when computing strategic best lanes (<em>best lanes</em> are recomputed on entering a new lane)  <em>default: 3000.0, range [0-inf)</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcLookaheadLeft</td>
<td>Factor for configuring the strategic lookahead distance when a change to the left is necessary (relative to right lookahead). <em>default: 2.0, range [0-inf)</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcSpeedGainRight</td>
<td>Factor for configuring the threshold asymmetry when changing to the left or to the right for speed gain. By default the decision for changing to the right takes more deliberation. Symmetry is achieved when set to 1.0. <em>default: 0.1, range [0-inf)</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcSpeedGainLookahead</td>
<td>Lookahead time in seconds for anticipating slow down. <em>default: 0 (LC2013), 5 (SL2015), range [0-inf)</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcSpeedGainRemainTime</td>
<td>Minimum duration (s) that can be driven on the new lane after changing for speed gain. <em>default: 20 (LC2013), 20 (SL2015), range [0-inf)</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcSpeedGainUrgency</td>
<td>A threshold value for the internal speedGain-motivation that classifies the lane change as urgent and triggers speed adaptation in neighboring (obstructing) vehicles. <em>default: 50 , range [0-inf)</em></td>
<td>LC2013</td>
</tr>
<tr>
<td>lcOvertakeDeltaSpeedFactor</td>
<td>Speed difference factor for the eagerness of overtaking a neighbor vehicle before changing lanes. If the actual speed difference between ego and neighbor is higher than factor*speedlimit, this vehicle will try to overtake the leading vehicle on the neighboring lane before performing the lane change. <em>default: 0 range [-1-1]</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcKeepRightAcceptanceTime</td>
<td>Time threshold for changing the willingness to change right. The value is compared against the anticipated time of unobstructed driving on the right. Lower values will encourage keepRight changes. If the value is changed from its default, fast approaching follower vehicles will also impact willingness to move to the right lane. <em>default: -1 (legacy behavior where acceptance time ~ 7 * currentSpeed) range [0-inf)</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcCooperativeRoundabout</td>
<td>Factor that increases willingness to move to the inside lane in a multi-lane roundabout. <em>default: lcCooperative, range [0-1]</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcCooperativeSpeed</td>
<td>Factor for cooperative speed adjustments. <em>default: lcCooperative, range [0-1]</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>minGapLat</td>
<td>The desired minimum lateral gap when using the <a href="Simulation/SublaneModel.html">sublane-model</a> , <em>default: 0.6</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcSublane</td>
<td>The eagerness for using the configured lateral alignment within the lane. Higher values result in increased willingness to sacrifice speed for alignment. <em>default: 1.0, range [0-inf)</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcPushy</td>
<td>Willingness to encroach laterally on other drivers. <em>default: 0, range [0-1]</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcPushyGap</td>
<td>Minimum lateral gap when encroaching laterally on other drives (alternative way to define lcPushy). <em>default: minGapLat, range 0 to minGapLat</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcAssertive</td>
<td>Willingness to accept lower front and rear gaps on the target lane. The required gap is divided by this value. <em>default: 1, range: positive reals</em></td>
<td>LC2013,SL2015</td>
</tr>
<tr>
<td>lcImpatience</td>
<td>Dynamic factor for modifying lcAssertive and lcPushy. <em>default: 0 (no effect) range -1 to 1</em>. Impatience acts as a multiplier. At -1 the multiplier is 0.5 and at 1 the multiplier is 1.5.</td>
<td>SL2015</td>
</tr>
<tr>
<td>lcTimeToImpatience</td>
<td>Time to reach maximum impatience (of 1). Impatience grows whenever a lane-change manoeuvre is blocked.. <em>default: infinity (disables impatience growth)</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcAccelLat</td>
<td>maximum lateral acceleration per second. <em>default: 1.0</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcTurnAlignmentDistance</td>
<td>Distance to an upcoming turn on the vehicles route, below which the alignment should be dynamically adapted to match the turn direction. <em>default: 0.0 (i.e., disabled)</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcMaxSpeedLatStanding</td>
<td>Constant term for lateral speed when standing. Set to 0 to avoid orthogonal sliding. <em>default: maxSpeedLat (i.e., disabled)</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcMaxSpeedLatFactor</td>
<td>Bound on lateral speed while moving computed as lcMaxSpeedLatStanding + lcMaxSpeedLatFactor * getSpeed(). If &gt; 0, this is an upper bound (vehicles change slower at low speed), if &lt; 0 this is a lower bound on speed and should be combined with lcMaxSpeedLatStanding &gt; maxSpeedLat (vehicles change faster at low speed).  <em>default: 1.0</em></td>
<td>LC2013, SL2015</td>
</tr>
<tr>
<td>lcMaxDistLatStanding</td>
<td>The maximum lateral maneuver distance in <em>m</em> while standing (currently used to prevent "sliding" keepRight changes).  <em>default: 1.6 and 0 for two-wheelers</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcLaneDiscipline</td>
<td>Reluctance to perform speedGain-changes that would place the vehicle across a lane boundary. <em>default: 0.0</em></td>
<td>SL2015</td>
</tr>
<tr>
<td>lcSigma</td>
<td>Lateral positioning-imperfection. <em>default: 0.0</em></td>
<td>LC2013, SL2015</td>
</tr>
</tbody>
</table>
<p>The parameters are set within the <code>&lt;vType&gt;</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;myType&quot;</span><span class="w"> </span><span class="na">lcStrategic=</span><span class="s">&quot;0.5&quot;</span><span class="w"> </span><span class="na">lcCooperative=</span><span class="s">&quot;0.0&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>parameter 'lcMaxSpeedLatStanding' will not be applied when a vehicle is at the end of its lane (to ensure that there are no deadlocks).</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Modifying and Retrieving lane change model attributes via TraCI <a href="TraCI/Change_Vehicle_State.html#relationship_between_lanechange_model_attributes_and_vtypes">works different from other vType attributes</a></p>
</div>
<h2 id="junction_model_parameters">Junction Model Parameters<a class="headerlink" href="#junction_model_parameters" title="Permanent link">#</a></h2>
<p>The behavior at intersections may be configured with the parameters
listed below.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Value Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>jmCrossingGap</td>
<td>float &gt;= 0 (m)</td>
<td>10</td>
<td>Minimum distance to pedestrians that are walking towards the conflict point with the ego vehicle. If the pedestrians are further away the vehicle may drive across the pedestrian crossing (excluding walking area). So, the lower the value, the braver (more aggressive) the driver.</td>
</tr>
<tr>
<td>jmIgnoreKeepClearTime</td>
<td>float (s)</td>
<td>-1</td>
<td>The accumulated waiting time (see Option <a href="sumo.html#processing"><strong>--waiting-time-memory</strong></a>) after which a vehicle will <a href="Simulation/Intersections.html#junction_blocking">drive onto an intersection even though this might cause jamming</a>. For negative values, the vehicle will always try to keep the junction clear.</td>
</tr>
<tr>
<td>jmDriveAfterRedTime</td>
<td>float (s)</td>
<td>-1</td>
<td>This value causes vehicles to violate a red light if the light has changed to red more recently than the given threshold. When set to 0, vehicles will always drive at yellow but will try to brake at red. If this behavior causes a vehicle to drive so fast that stopping is not possible any more it will not attempt to stop. This value also applies to <a href="Simulation/Pedestrians.html#model_striping">the default pedestrian model</a>.</td>
</tr>
<tr>
<td>jmDriveAfterYellowTime</td>
<td>float (s)</td>
<td>-1</td>
<td>This value causes vehicles to violate a yellow light if the light has changed more recently than the given threshold. Vehicles that are too fast to brake always drive at yellow.</td>
</tr>
<tr>
<td>jmDriveRedSpeed</td>
<td>float (m/s)</td>
<td><em>maxSpeed</em></td>
<td>This value causes vehicles affected by <em>jmDriveAfterRedTime</em> to slow down when violating a red light. The given speed will not be exceeded when entering the intersection.</td>
</tr>
<tr>
<td>jmIgnoreFoeProb</td>
<td>float</td>
<td>0</td>
<td>This value causes vehicles and pedestrians to ignore foe vehicles that have right-of-way with the given probability. The check is performed anew every simulation step. (range [0,1]). This value also applies to <a href="Simulation/Pedestrians.html#model_striping">the default pedestrian model</a>.</td>
</tr>
<tr>
<td>jmIgnoreFoeSpeed</td>
<td>float (m/s)</td>
<td>0</td>
<td>This value is used in conjunction with <em>jmIgnoreFoeProb</em>. Only vehicles with a speed below or equal to the given value may be ignored. This value also applies to <a href="Simulation/Pedestrians.html#model_striping">the default pedestrian model</a>.</td>
</tr>
<tr>
<td>jmIgnoreJunctionFoeProb</td>
<td>float</td>
<td>0</td>
<td>This value causes vehicles to ignore foe vehicles and pedestrians that have already entered a junction with the given probability. The check is performed anew every simulation step. (range [0,1]).</td>
</tr>
<tr>
<td>jmSigmaMinor</td>
<td>float, scaling factor (like <em>sigma</em>)</td>
<td>sigma</td>
<td>This value configures driving imperfection (dawdling) while passing a minor link (ahead of the intersection after having committed to drive and while still on the intersection).</td>
</tr>
<tr>
<td>jmStoplineGap</td>
<td>float &gt;= 0 (m)</td>
<td>1</td>
<td>This value configures stopping distance in front of a prioritary / TL-controlled stop line. In case the stop line has been relocated by a <a href="Networks/SUMO_Road_Networks.html#stop_offsets"><strong>stopOffset</strong></a> item, the maximum of both distances is applied.</td>
</tr>
<tr>
<td>jmStoplineGapMinor</td>
<td>float &gt;= 0 (m)</td>
<td>0</td>
<td>This value configures stopping distance in front of a non-prioritary stop line. In case the stop line has been relocated by a <a href="Networks/SUMO_Road_Networks.html#stop_offsets"><strong>stopOffset</strong></a> item, the maximum of both distances is applied.</td>
</tr>
<tr>
<td>jmStoplineCrossingGap</td>
<td>float &gt;= 0 (m)</td>
<td>1</td>
<td>This value configures stopping distance in front of a pedestrian crossing. In case the stop line has been relocated by a <a href="Networks/SUMO_Road_Networks.html#stop_offsets"><strong>stopOffset</strong></a> item, the maximum of both distances is applied.</td>
</tr>
<tr>
<td>jmTimegapMinor</td>
<td>float s</td>
<td>1</td>
<td>This value defines the minimum time gap when passing ahead or after a prioritized vehicle. It is applied when the foe vehicle has not yet entered the intersection</td>
</tr>
<tr>
<td>jmAdvance</td>
<td>0 or 1</td>
<td>1</td>
<td>If this value is set to 1, the ego vehicle may advance towards the conflict point when it's trajectory crosses with a foe vehicle that has already entered the intersection (it will select a speed that brings it to the conflict point just when the foe has gone past). If set to 0, the ego vehicle will remain at the stop line or internal junction until the foe has gone past the conflict point</td>
</tr>
<tr>
<td>jmExtraGap</td>
<td>float m</td>
<td>0</td>
<td>This value defines an extra gap to keep in a merging conflict where the foe vehicle has already entered the intersection. For crossing rather than merging trajectories, it also defines an extra distance by which the foe vehicle must have passed the conflict point before the ego vehicle may enter the conflict point</td>
</tr>
<tr>
<td>jmStopSignWait</td>
<td>float s</td>
<td>step-length</td>
<td>This value defines the minimum stopping duration before passing a stop sign or equivalent situations such as turning right on a red traffic light (default is a single simulation step).</td>
</tr>
<tr>
<td>jmAllwayStopWait</td>
<td>float s</td>
<td>step-length</td>
<td>This value defines the minimum stopping duration before passing an allway_stop sign (default is a single simulation step).</td>
</tr>
<tr>
<td>impatience</td>
<td>float or 'off'</td>
<td>0.0</td>
<td>Willingness of drivers to impede vehicles with higher priority. See below for semantics.</td>
</tr>
</tbody>
</table>
<p>The parameters are set within the <code>&lt;vType&gt;</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;ambulance&quot;</span><span class="w"> </span><span class="na">jmDriveAfterRedTime=</span><span class="s">&quot;300&quot;</span><span class="w"> </span><span class="na">jmDriveRedSpeed=</span><span class="s">&quot;5.56&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>

<h3 id="impatience">Impatience<a class="headerlink" href="#impatience" title="Permanent link">#</a></h3>
<p>The impatience of a driver is value between 0 and 1 that grows whenever
the driver has to stop unintentionally (i.e. due to a jam or waiting at
an intersection). The impatience value is computed as</p>
<div class="codehilite"><pre><span></span><code>MAX(0,<span class="w"> </span>MIN(1.0,<span class="w"> </span>baseImpatience<span class="w"> </span>+<span class="w"> </span>waitingTime<span class="w"> </span>/<span class="w"> </span>timeToMaxImpatience))
</code></pre></div>

<p>Where baseImpatience is configured by setting the vType-attribute
<em>impatience</em> and timeToMaxImpatience is set using the option <strong>--time-to-impatience</strong> (default
180s). Setting this option to 0 disables impatience growth. The value of baseImpatience may be negative to slow the growth of
the dynamically computed impatience. It may also be defined with the
value <strong>off</strong> to prevent drivers from becoming impatient.</p>
<p>The impatience value is used to represent a drivers willingness to
impede vehicles with higher priority. At a value of 1 or above, the
driver will use any gap that is <em>safe</em> in the sense of
collision-avoidance even if it means that another vehicle has to brake
as hard as it can. At a value of 0, the driver will only perform
maneuvers that do not force other vehicles to slow down. Intermediate
values interpolate smoothly between these extremes.</p>
<h4 id="impatience_for_pedestrians">Impatience for Pedestrians<a class="headerlink" href="#impatience_for_pedestrians" title="Permanent link">#</a></h4>
<p>The impatience concept is also used when pedestrians cross a street without having priority. Just as for cars, the current impatience is computed from the <em>baseImpatience</em> (as configured in the vType) and the current <em>waitingTime</em>. The <em>timeToMaxImpatience</em> is hard-coded as 120s. Impatient pedestrians may cross the street even though it forces cars to brake. Setting impatience in the <code>vType</code> to a negative value or <code>off</code> can be used to make pedestrians more patient.</p>
<h3 id="transient_parameters">Transient Parameters<a class="headerlink" href="#transient_parameters" title="Permanent link">#</a></h3>
<p>Junction model parameters that are expected to change during the simulation are modelled via <a href="Simulation/GenericParameters.html">generic parameters</a>. The following parameters are supported (via xml input and <code>traci.vehicle.setParameter</code>):</p>
<ul>
<li>junctionModel.ignoreIDs : ignore foe vehicles with the given ids</li>
<li>junctionModel.ignoreTypes : ignore foe vehicles that have any of the given types</li>
</ul>
<p>If multiple ignore parameters are set, they are combined with "or".
Foes are ignored while they are approaching a junction and also while they are on the junction.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;ego&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;r0&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;junctionModel.ignoreIDs&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;foe1 foe2&quot;</span><span class="nt">/&gt;</span>
<span class="w">   </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;junctionModel.ignoreTypes&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;bikeType&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/vehicle&gt;</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These parameters also apply to intermodal simulation. They may be used to let pedestrians ignore vehicles and vice versa.</p>
</div>
<h2 id="default_vehicle_type">Default Vehicle Type<a class="headerlink" href="#default_vehicle_type" title="Permanent link">#</a></h2>
<p>If the <code>type</code> attribute of a vehicle is not
defined it defaults to <code>"DEFAULT_VEHTYPE"</code>.
By defining a vehicle type with this id (<code>&lt;vType id="DEFAULT_VEHTYPE" ..../&gt;</code>) the default parameters for
vehicles without an explicitly defined type can be changed. The change
of the default vehicle type needs to occur before any reference to the
type was made, so basically before any vehicle or vehicle type was
defined. So it should always be at the top of the very first route file.</p>
<h1 id="route_and_vehicle_type_distributions">Route and vehicle type distributions<a class="headerlink" href="#route_and_vehicle_type_distributions" title="Permanent link">#</a></h1>
<p>Instead of defining routes and vTypes explicitly for a vehicle
<a href="sumo.html">sumo</a> can choose them at runtime from a given
distribution. In order to use this feature just define distributions as
following:</p>
<h2 id="vehicle_type_distributions">Vehicle Type Distributions<a class="headerlink" href="#vehicle_type_distributions" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vTypeDistribution</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;typedist1&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;0.8&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;70&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;0.9&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type2&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;15&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;0.1&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vTypeDistribution&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The python tool <a href="Tools/Misc.html#createvehtypedistributionpy">createVehTypeDistribution.py</a> can be used to generate large distributions that vary multiple <em>vType</em> parameters independently of each other.</p>
</div>
<h3 id="using_existing_types">Using existing types<a class="headerlink" href="#using_existing_types" title="Permanent link">#</a></h3>
<p>Multiple distributions can make use of the same types and optionally override their probabilities.
Previously defined vehicle type distributions can be referenced as well.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type1&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;0.8&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;5&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;70&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;0.9&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type2&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;1.8&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;15&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;0.1&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type3&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;1.9&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;15&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;type4&quot;</span><span class="w"> </span><span class="na">accel=</span><span class="s">&quot;1.7&quot;</span><span class="w"> </span><span class="na">length=</span><span class="s">&quot;12&quot;</span><span class="w"> </span><span class="na">maxSpeed=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vTypeDistribution</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;typedist1&quot;</span><span class="w"> </span><span class="na">vTypes=</span><span class="s">&quot;type1 type2&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vTypeDistribution</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;typedist2&quot;</span><span class="w"> </span><span class="na">vTypes=</span><span class="s">&quot;type3 type4&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vTypeDistribution</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;typedist3&quot;</span><span class="w"> </span><span class="na">vTypes=</span><span class="s">&quot;type1 type2&quot;</span><span class="w"> </span><span class="na">probabilities=</span><span class="s">&quot;0.5 0.5&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;vTypeDistribution</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;alltypesdist&quot;</span><span class="w"> </span><span class="na">vTypes=</span><span class="s">&quot;typedist1 typedist2&quot;</span><span class="w"> </span><span class="na">probabilities=</span><span class="s">&quot;0.5 0.5&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<h2 id="route_distributions">Route Distributions<a class="headerlink" href="#route_distributions" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;routeDistribution</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;routedist1&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,1,0&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end rend&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;0.9&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;route1&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,2,0&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;0.1&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/routeDistribution&gt;</span>

<span class="w">    </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;route2&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end rend&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;route3&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;routeDistribution</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;routedist2&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">refId=</span><span class="s">&quot;route2&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">refId=</span><span class="s">&quot;route3&quot;</span><span class="w"> </span><span class="na">probability=</span><span class="s">&quot;3&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/routeDistribution&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<p>A distribution has only an id as (mandatory) attribute and needs a
probability attribute for each of its child elements. The sum of the
probability values needs not to be 1, they are scaled accordingly. Note,
that probability defaults to <em>1.00</em> when not specified. At the moment
the id for the children is mandatory, this is likely to change in future
versions.</p>
<p>A distribution can be used just as using individual types and routes:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;typedist1&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;routedist1&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;1,0,0&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>When using <a href="duarouter.html">duarouter</a> with input files containing distributions, the output files will contain a fixed route and type for each vehicle and the distributions will be gone. This is to ensure that each vehicles route will fit its sampled <code>vClass</code> when using the input files with <a href="sumo.html">sumo</a></p>
</div>
<h1 id="stops_and_waypoints">Stops and waypoints<a class="headerlink" href="#stops_and_waypoints" title="Permanent link">#</a></h1>
<p>Vehicles may be forced to stop for a defined time span or wait for
persons by using the stop element either as part of a route or a vehicle
definition. The stop element can also be used to guide vehicles along a route to
a waypoint. The examples below show all three cases:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">edges=</span><span class="s">&quot;beg middle end rend&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;stop</span><span class="w"> </span><span class="na">lane=</span><span class="s">&quot;middle_0&quot;</span><span class="w"> </span><span class="na">endPos=</span><span class="s">&quot;50&quot;</span><span class="w"> </span><span class="na">duration=</span><span class="s">&quot;20&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/route&gt;</span>
<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;v0&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;stop</span><span class="w"> </span><span class="na">lane=</span><span class="s">&quot;end_0&quot;</span><span class="w"> </span><span class="na">endPos=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">until=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vehicle&gt;</span>
<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;v1&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;90&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;stop</span><span class="w"> </span><span class="na">lane=</span><span class="s">&quot;end_1&quot;</span><span class="w"> </span><span class="na">endPos=</span><span class="s">&quot;10&quot;</span><span class="w"> </span><span class="na">speed=</span><span class="s">&quot;13.89&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vehicle&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<p>The resulting vehicle <code>v0</code> will stop twice, once at lane <code>middle_0</code> because of
the stop defined in its route and the second time because of the stop
defined in the vehicle itself. The first stop will last 20 seconds the
second one until simulation second 50. For a detailed list of attributes
to stops see below. For a description on how to use them to simulate
public transport see <a href="Simulation/Public_Transport.html">Simulation/Public Transport</a>.
The second vehicle <code>v1</code> will stop once at lane <code>middle_0</code> as defined in the route, then
head to lane <code>end_1</code> and pass that point at 13.89 m/s before terminating at route at rend edge.</p>
<p>Stops can be childs of vehicles, routes, persons or containers.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Range</th>
<th>Default</th>
<th>Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td>busStop</td>
<td>string</td>
<td>valid busStop ids</td>
<td>-</td>
<td>if given, containerStop, chargingStation, edge, lane, startPos and endPos are not allowed</td>
</tr>
<tr>
<td>containerStop</td>
<td>string</td>
<td>valid containerStop ids</td>
<td>-</td>
<td>if given, busStop, chargingStation, edge, lane, startPos and endPos are not allowed</td>
</tr>
<tr>
<td>chargingStation</td>
<td>string</td>
<td>valid chargingStation ids</td>
<td>-</td>
<td>if given, busStop, containerStop, edge, lane, startPos and endPos are not allowed</td>
</tr>
<tr>
<td>parkingArea</td>
<td>string</td>
<td>valid parkingArea ids</td>
<td>-</td>
<td>for more info see <a href="Simulation/ParkingArea.html#letting_vehicles_stop_at_a_parking_area">parkingArea</a></td>
</tr>
<tr>
<td>lane</td>
<td>string</td>
<td>lane id</td>
<td>-</td>
<td>the lane id takes the form &lt;edge_id&gt;_&lt;lane_index&gt;. the edge has to be part of the corresponding route. If the edge supports <a href="Simulation/OppositeDirectionDriving.html">opposite direction driving</a>, the lane index may use values beyond the lane indices of the stop edge to define stops on the opposite side.</td>
</tr>
<tr>
<td>edge</td>
<td>string</td>
<td>edge id</td>
<td>-</td>
<td>the vehicle with stop on the rightmost lane that allows its vClass</td>
</tr>
<tr>
<td>endPos</td>
<td>float(m)</td>
<td>-lane.length &lt; x &lt; lane.length (negative values count backwards from the end of the lane)</td>
<td>lane.length</td>
<td></td>
</tr>
<tr>
<td>startPos</td>
<td>float(m)</td>
<td>-lane.length &lt; x &lt; lane.length (negative values count backwards from the end of the lane)</td>
<td>endPos-0.2m</td>
<td>there must be a difference of more than 0.1m between <em>startPos</em> and <em>endPos</em></td>
</tr>
<tr>
<td>friendlyPos</td>
<td>bool</td>
<td>true,false</td>
<td>false</td>
<td>whether invalid stop positions should be corrected automatically</td>
</tr>
<tr>
<td>duration</td>
<td>float(s) or HH:MM:SS</td>
<td>≥0</td>
<td>-</td>
<td>minimum duration for stopping</td>
</tr>
<tr>
<td>until</td>
<td>float(s) or HH:MM:SS</td>
<td>≥0</td>
<td>-</td>
<td>the earliest time step at which the route continues</td>
</tr>
<tr>
<td>arrival</td>
<td>float(s) or HH:MM:SS</td>
<td>≥0</td>
<td>-</td>
<td>the expected time of arrival for the stop. If this value is set, <a href="">stop-output</a> will include the attribute ''arrivalDelay''. If the vehicles's vType defines attribute <code>speedFactorPremature</code>, a vehicle may slow down to prevent premature arrival.</td>
</tr>
<tr>
<td>ended</td>
<td>float(s) or HH:MM:SS</td>
<td>≥0</td>
<td>-</td>
<td>the time step at which the stop ended (i.e. as recorded by a prior simulation). Can be used to overrule 'until' by setting option <strong>--use-stop-ended</strong> (i.e. when trying to reproduce known timings)</td>
</tr>
<tr>
<td>started</td>
<td>float(s) or HH:MM:SS</td>
<td>≥0</td>
<td>-</td>
<td>the known time of arrival for the stop (i.e. as recorded by a prior simulation). Can be used to overrule 'arrival' by setting option <strong>--use-stop-started</strong> (i.e. when trying to reproduce known timings)</td>
</tr>
<tr>
<td>extension</td>
<td>float(s) or HH:MM:SS</td>
<td>≥0</td>
<td>-</td>
<td>the maximum time by which to extend the stop duration due to boarding persons and when waiting for expected persons / triggered stopping</td>
</tr>
<tr>
<td>index</td>
<td>int, "end", "fit"</td>
<td>0≤index≤number of stops in the route</td>
<td>"end"</td>
<td>Where to insert the stop in the vehicle's list of stops. If an index is given that is larger than the previous number of stops and the route loops over the stop edge multiple times, each increment of the index skips over one occurrence of the stop edge</td>
</tr>
<tr>
<td>triggered</td>
<td>string list</td>
<td>"person", "container", "join", "true", "false"</td>
<td>"false"</td>
<td>List of necessary conditions for ending a stop (<a href="#triggered_stops">see below</a>)</td>
</tr>
<tr>
<td>expected</td>
<td>string</td>
<td>list of person IDs</td>
<td></td>
<td>list of persons that must board the vehicle before it may continue (only takes effect for triggered stops)</td>
</tr>
<tr>
<td>expectedContainers</td>
<td>string</td>
<td>list of container IDs</td>
<td></td>
<td>list of containers that must be loaded onto the vehicle before it may continue (only takes effect for triggered stops)</td>
</tr>
<tr>
<td>permitted</td>
<td>string</td>
<td>list of person and container IDs</td>
<td></td>
<td>list of transportables that are permitted to enter the vehicle at this stop</td>
</tr>
<tr>
<td>parking</td>
<td>bool</td>
<td>true,false</td>
<td>value of triggered</td>
<td>whether the vehicle stops on the road or beside</td>
</tr>
<tr>
<td>actType</td>
<td>string</td>
<td>arbitrary</td>
<td></td>
<td>activity description in GUI and output files</td>
</tr>
<tr>
<td>tripId</td>
<td>string</td>
<td>arbitrary</td>
<td></td>
<td>parameter to be applied to the vehicle to track the trip id within a cyclical public transport route</td>
</tr>
<tr>
<td>line</td>
<td>string</td>
<td>arbitrary</td>
<td></td>
<td>new line attribute to be set on the vehicle when reaching this stop (for cyclical public transport route)</td>
</tr>
<tr>
<td>speed</td>
<td>float</td>
<td>positive</td>
<td>-</td>
<td>speed to be kept while driving between startPos and endPos. This turns the stop into a waypoint.</td>
</tr>
<tr>
<td>posLat</td>
<td>float</td>
<td></td>
<td>-</td>
<td>lateral offset while stopped</td>
</tr>
<tr>
<td>onDemand</td>
<td>bool</td>
<td></td>
<td>false</td>
<td>whether stopping may be skipped if no person wants to embark or disembark there</td>
</tr>
<tr>
<td>jump</td>
<td>float(s) or HH:MM:SS</td>
<td></td>
<td>-1</td>
<td>when set to a non-negative value, jump to the next <em>mandatory</em> route edge (next stop or arrival edge) and spend the given time for the <em>jump</em></td>
</tr>
<tr>
<td>jumpUntil</td>
<td>float(s) or HH:MM:SS</td>
<td></td>
<td>-1</td>
<td>when set to a non-negative value, the jump to the next route edge will last at least until the given time (and possibly longer depending on the value of <code>jump</code>)</td>
</tr>
<tr>
<td>split</td>
<td>string</td>
<td></td>
<td>vehicle id</td>
<td>must be set to the id of a vehicle with <code>depart="split"</code>. <a href="Simulation/Railways.html#splitting_a_train">Splits the train</a> upon reaching the stop.</td>
</tr>
<tr>
<td>join</td>
<td>string</td>
<td></td>
<td>vehicle id</td>
<td>must be set to the id of a vehicle that stops with <code>triggered="join"</code>. <a href="Simulation/Railways.html#joining_two_trains">Joins this train to another</a> upn reaching the stop</td>
</tr>
</tbody>
</table>
<ul>
<li>If "duration" <em>and</em> "until" are given, the vehicle will stop for at least "duration" seconds.</li>
<li>If "duration" is 0 the vehicle will decelerate to reach velocity 0 and then start to accelerate again.</li>
<li>If "until" is given and "duration" is not and the vehicle arrives at the stop at or after the time step defined by "until" it will decelerate to speed 0 and then accelerate again.</li>
<li>If persons board the vehicle, the stop is extended by the "boardingDuration" of the vehicle or until the "personCapacity" is reached. (or "loadingDuration" and "containerCapacity" for containers).</li>
<li>If until is defined in the context of a repeated vehicle insertion (flow) it will be incremented by the difference of vehicle creation time and "begin" of the flow.</li>
<li>If neither "duration" nor "until" are given, "triggered" defaults to true. If "triggered" is set to false explicitly the vehicle will stop forever.</li>
<li>if "duration" or "until" are given along with "triggered", then the vehicle will stop until the given duration/until is reached <strong>and</strong> a person has boarded</li>
<li>If "parking" is set to true. The vehicle stops besides the road without blocking other vehicles.</li>
</ul>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If <em>triggered</em> is true then <em>parking</em> will also be set to true by default. If you then set <em>parking</em> to false you may create deadlocks which prevent the simulation from terminating</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bus stops must have a length of at least 10</p>
</div>
<h2 id="startpos_and_endpos">startPos and endPos<a class="headerlink" href="#startpos_and_endpos" title="Permanent link">#</a></h2>
<ul>
<li>by default vehicles will try to stop at the given endPos</li>
<li>if the vehicle comes to a halt earlier (i.e. due to a jam) then the stop counts as reached if the vehicle front is between startPos and endPos</li>
<li>if the vehicle picks up a person or container, it can do so as long as the person is between startPos and endPos</li>
<li>if the stop uses attribute 'speed', than that speed will be maintained between startPos and endPos</li>
</ul>
<h2 id="triggered_stops">triggered stops<a class="headerlink" href="#triggered_stops" title="Permanent link">#</a></h2>
<p>Typically, a planned stop ends based on a time related condition (a scheduled departure time give as <code>until</code> or a minimum stopping <code>duration</code> or both).
However, it is also possible to set other requirements that must be met for the stop to end and these are defined with attribute <code>triggered</code>. The attribute defines a list of conditions and each keyword is explained in the following:</p>
<ul>
<li><code>"person"</code>: the vehicle stops until at least one person has entered<ul>
<li>the list of necessary and eligible persons can be further customized with attributes <code>expected</code> and <code>permitted</code></li>
</ul>
</li>
<li><code>"container"</code>: the vehicle stops until at least one container has been loaded<ul>
<li>the list of necessary and eligible containers can be further customized with attributes <code>expectedContainers</code> and <code>permitted</code></li>
</ul>
</li>
<li><code>"join"</code>: the vehicle stops until having <a href="Simulation/Railways.html#joining_two_trains">joined with another vehicle</a></li>
<li><code>"true"</code>: alias for <code>"person"</code></li>
<li><code>"false"</code>: alias for not defining any trigger conditions</li>
</ul>
<h2 id="waypoints">Waypoints<a class="headerlink" href="#waypoints" title="Permanent link">#</a></h2>
<p>By defining attribute 'speed' with a positive value, the stop definition is turned into a waypoint. The vehicle will drive past the given lane and keep at most the defined speed while between startPos end endPos. The actual <a href="Simulation/VehicleSpeed.html">vehicle speed</a> cannot be higher than it would be without a waypoint.</p>
<p>Special handling of other attributes:</p>
<ul>
<li>the 'duration' value is ignored</li>
<li>the 'triggered' value is not compatible with waypoints and will trigger an error</li>
<li>when the 'until' value is set, vehicles may stop when reaching a waypoint too early</li>
</ul>
<h2 id="jumps">Jumps<a class="headerlink" href="#jumps" title="Permanent link">#</a></h2>
<p>When defining attribute 'jump' with a non-negative value, the vehicle will leave the network for the given duration immediately after finishing the stop and re-enter it on the start of the next edge of its route. Having a disconnected route after a jump-stop is permitted. When giving jumps as <a href="Demand/Shortest_or_Optimal_Path_Routing.html#routing_between_stops">router input</a>, disconnected routes are created by design.</p>
<p>A typical use case for jumps would be a public transport vehicle that has some of its stops outside the simulated area and is expected to re-enter it at a later time after leaving the simulation  (while preserving its ID and delay).</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The next stop must be on a different edge that that on which the jump started or the next stop will be skipped.</p>
</div>
<h2 id="user_defined_parameters">User defined Parameters<a class="headerlink" href="#user_defined_parameters" title="Permanent link">#</a></h2>
<p>Stops support <a href="Simulation/GenericParameters.html">Generic Parameters</a>. These may also be retrieved and modified via <a href="TraCI/Vehicle_Value_Retrieval.html">TraCI</a></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;trip</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;r0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;stop</span><span class="w"> </span><span class="na">edge=</span><span class="s">&quot;E0&quot;</span><span class="w"> </span><span class="na">duration=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;userDefined&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;42&quot;</span><span class="nt">/&gt;</span>
<span class="w">  </span><span class="nt">&lt;/stop&gt;</span>
<span class="nt">&lt;/trip&gt;</span>
</code></pre></div>

<h1 id="colors">Colors<a class="headerlink" href="#colors" title="Permanent link">#</a></h1>
<p>A color is defined as <em>red,green,blue</em> or <em>red,green,blue,alpha</em> either
in a vehicle, route or vType.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;route</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;r0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;0,255,255&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;type</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;t0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;0,0,255&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;v0&quot;</span><span class="w"> </span><span class="na">color=</span><span class="s">&quot;255,0,0,0&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>

<p>In the default visualization settings the vehicle color will be used if
define, otherwise the type and finally the route color. <a href="sumo-gui.html#vehicle_visualisation_settings">These settings can be changed.</a></p>
<p>By default color components should be given as integers in the range of
(0,255) but other definitions are also supported:</p>
<div class="codehilite"><pre><span></span><code>color=&quot;0.5,<span class="w"> </span>0.5,<span class="w"> </span>1.0&quot;
color=&quot;#FF0000&quot;
color=&quot;red&quot;
</code></pre></div>

<p>The transparency value (alpha) only <a href="sumo-gui.html#transparency">takes effect</a> when also using the vType
attribute <em>imgFile</em>.</p>
<h1 id="devices">Devices<a class="headerlink" href="#devices" title="Permanent link">#</a></h1>
<p>Vehicle devices are used to model and configure different aspects such
as output (device.fcd) or behavior (device.rerouting).</p>
<p>The following device names are supported and can be used for the
placeholder <code>&lt;DEVICENAME&gt;</code> below</p>
<ul>
<li><a href="Models/Emissions.html">emission</a>: extends tripinfo-output with emissions</li>
<li><a href="Models/Electric.html">battery</a>: electricity consumption and battery state for electric vehicles, or fuel tank state for combustion vehicles</li>
<li><a href="Simulation/Stationfinder.html">stationfinder</a>: automated charging at chargingStations</li>
<li><a href="Models/ElectricHybrid.html">elechybrid</a>: electric vehicles driving under overhead wires</li>
<li><a href="Simulation/Bluetooth.html">btreiver</a>: wireless connectivity (receiver side)</li>
<li><a href="Simulation/Bluetooth.html">btsender</a>: wireless connectivity (sender side)</li>
<li><a href="Simulation/Emergency.html">bluelight</a>: emergency vehicle behavior</li>
<li><a href="Demand/Automatic_Routing.html">rerouting</a>: dynamic route changes</li>
<li><a href="Simulation/Output/SSM_Device.html">ssm</a>: surrogate safety measures</li>
<li><a href="ToC_Device.html">toc</a>: transition of control between automated and manual driving</li>
<li><a href="Driver_State.html">driverstate</a>: randomized driver perception errors </li>
<li><a href="Simulation/Output/FCDOutput.html">fcd</a>: recording of vehicle positions and other attributes per step</li>
<li><a href="Simulation/FCDReplay.html">fcdreplay</a>: replaying vehicle positions</li>
<li><a href="Simulation/Output/TripInfo.html">tripinfo</a>: vehicle-based traffic data aggregation</li>
<li><a href="Simulation/Output/VehRoutes.html">vehroute</a>: recording of driven route and route changes</li>
<li><a href="Simulation/Taxi.html">taxi</a>: demand responsive transport</li>
<li><a href="Simulation/GLOSA.html">glosa</a>: green light optiomal speed advisory at traffic lights</li>
<li><a href="Simulation/Friction.html">friction</a>: wheather and road surface specific speed changes</li>
<li><a href="Developer/How_To/Device.html">example</a>: implementation example</li>
</ul>
<h2 id="automatic_assignment">Automatic assignment<a class="headerlink" href="#automatic_assignment" title="Permanent link">#</a></h2>
<p>Some devices are assigned automatically. Every <code>&lt;trip&gt;</code> that is loaded into the
simulation is automatically equipped with a <em>rerouting</em> device to
perform the initial route computation.</p>
<p>Other devices such as <em>fcd</em> are assigned automatically when the option <strong>--fcd-output</strong>
is set.</p>
<h2 id="assignment_by_global_options">Assignment by global options<a class="headerlink" href="#assignment_by_global_options" title="Permanent link">#</a></h2>
<p>Devices can be configured globally for all vehicles in the simulation by
setting the option <strong>--device.&lt;DEVICENAME&gt;.probability</strong> (e.g. <code>--device.fcd.probability 0.25</code>. This will equip
about a quarter of the vehicles with an fcd device (each vehicle
determines this randomly with 25% probability).) To make the assignment
exact the additional option <strong>--device.&lt;DEVICENAME&gt;.deterministic</strong> can be set. Another option is to pass the
list of vehicle ids that shall be equipped using the option <strong>--device.&lt;DEVICENAME&gt;.explicit &lt;ID1,ID2,...IDk&gt;</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These options take precedence over automatic assignment by output-option.</p>
</div>
<h2 id="assignment_by_generic_parameters">Assignment by generic parameters<a class="headerlink" href="#assignment_by_generic_parameters" title="Permanent link">#</a></h2>
<p>Another option for assigning devices for vehicle types or individual
vehicles is by using <a href="Simulation/GenericParameters.html">generic parameters</a>. This is done by
defining them for the vehicle or the vehicle type in the following way:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;routes&gt;</span>
<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;v0&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;has.&lt;DEVICENAME&gt;.device&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vehicle&gt;</span>

<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;t1&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;has.&lt;DEVICENAME&gt;.device&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vType&gt;</span>

<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;v1&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;t1&quot;</span><span class="nt">/&gt;</span>

<span class="w">    </span><span class="nt">&lt;vType</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;t2&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;param</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;device.&lt;DEVICENAME&gt;.probability&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;0.5&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;/vType&gt;</span>

<span class="w">    </span><span class="nt">&lt;vehicle</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;v2&quot;</span><span class="w"> </span><span class="na">route=</span><span class="s">&quot;route0&quot;</span><span class="w"> </span><span class="na">depart=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;t2&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>&lt;param&gt;</code> of a vehicle has precedence over the <code>&lt;param&gt;</code> of the vehicle's type. Both have precedence over the assignment by options.</p>
</div>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 17 February 2026</i></small>
          
          <hr>
            <p>Copyright &copy; 2001-2026 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa-brands fa-x-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa-brands fa-facebook"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa-brands fa-instagram"></i></a> <a class="no-arrow-link" href="https://www.threads.net/@eclipse.sumo"><i class="fa-brands fa-threads"></i></a> <a class="no-arrow-link" href="https://bsky.app/profile/eclipse-sumo.bsky.social"><i class="fa-brands fa-bluesky"></i></a> <a class="no-arrow-link" href="https://www.linkedin.com/groups/5156801/"><i class="fab fa-linkedin"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }

        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = ".",
            shortcuts = {"edit": 69, "help": 191, "search": 83};
        </script>
        <script src="js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');

          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }
          }

          toggleSwitch.addEventListener('change', switchTheme, false);

          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>
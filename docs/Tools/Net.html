<!--
MkDocs version : 1.6.1
Build Date UTC : 20 February 2026 10:38:46
Last edit: 20 February 2026
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <meta name="theme-color" content="#338033">
        <meta name="theme-color" content="#338033" media="(prefers-color-scheme: dark)">
        <meta property="og:image" content="../images/image-facebook.jpg">
        <meta property="og:image:type" content="image/jpeg">
        <meta property="og:image:width" content="1080">
        <meta property="og:image:height" content="1080">

        
        
        <link rel="canonical" href="https://sumo.dlr.de/docs/Tools/Net.html">
        <link rel="shortcut icon" href="../images/favicon.ico">
        <title>Net - SUMO Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.all.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="../images/apple-touch-icon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-3.7.0.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 

      <script>
        // DARK MODE
        function detectColorScheme(){
          var theme="light";

          if(localStorage.getItem("sumo-docs-theme")){
              if(localStorage.getItem("sumo-docs-theme") == "dark"){
                  var theme = "dark";
              }
          } else if(!window.matchMedia) {
              return false;
          } else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
              var theme = "dark";
          }

          if (theme=="dark") {
              document.documentElement.setAttribute("data-theme", "dark");
          }
        }
        detectColorScheme();
      </script>

    </head>

    <body>

    <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary text-center">
    <div class="container-fluid">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>

        <!-- Expanded navigation -->
        <div id="navbar-collapse" class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li class="navitem">
                        <a href="../index.html" class="nav-link">Documentation</a>
                    </li>
                    <li class="navitem">
                        <a href="../Tutorials/index.html" class="nav-link">Tutorials</a>
                    </li>
                    <li class="navitem">
                        <a href="../FAQ.html" class="nav-link">FAQ</a>
                    </li>
                    <li class="navitem">
                        <a href="../Downloads.html" class="nav-link">Downloads</a>
                    </li>
                    <li class="navitem">
                        <a href="../Publications.html" class="nav-link">Publications</a>
                    </li>
                    <li class="navitem">
                        <a href="../Developer/index.html" class="nav-link">Developer</a>
                    </li>
                    <li class="navitem">
                        <a href="../ChangeLog.html" class="nav-link">ChangeLog</a>
                    </li>
                    <li class="navitem">
                        <a href="https://eclipse.dev/sumo/contact/" class="nav-link">Contact</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa-solid fa-magnifying-glass"></i> <u>S</u>earch
                    </a>
                </li>
                    <li class="nav-item">
                        <a rel="edit" href="https://github.com/eclipse-sumo/sumo/edit/main/docs/web/docs/Tools/Net.md" class="nav-link"><i class="fa-brands fa-github"></i> <u>E</u>dit on GitHub</a>
                    </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    More <i class="fa-solid fa-circle-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item no-arrow-link" href="https://github.com/eclipse/sumo/issues">Report a Bug / Issue / Typo</a>
                    <a class="dropdown-item" href="../Editing_Articles.html">Help on editing articles</a>
                    <a class="dropdown-item" href="https://github.com/eclipse/sumo/commits/main/docs/web">Recent documentation changes</a>
                    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#mkdocs_keyboard_modal">Keyboard Shortcuts</a>
                    <a class="dropdown-item no-arrow-link" href="https://sumo.dlr.de/sumo_documentation.zip">Download the Documentation</a>
                    <span class="dropdown-item" id="dark-mode-div">Dark mode <label id="theme-switch" class="theme-switch" for="checkbox_theme">
                        <input type="checkbox" id="checkbox_theme">
                    </label></span>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="languagedrop" data-toggle="dropdown">
                    <i class="fa-solid fa-language"></i> Languages <i class="fa-solid fa-circle-chevron-down"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                    <span class="dropdown-item">
                        Translations are generated automatically by Google Translate:
                    </span>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=de">Deutsch</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=es">Español</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=pt">Português</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=fr">Français</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=it">Italiano</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=zh-CN">简体中文</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=zh-TW">繁體中文</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=tr">Türkçe</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=ja">日本語</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=en&_x_tr_tl=ko">한국어</a>
                    <a class="dropdown-item" href="https://sumo-dlr-de.translate.goog/docs/Tools/Net.html?_x_tr_sl=auto&_x_tr_tl=en"><i class="fa-solid fa-arrow-right"></i> Other languages</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container-fluid">
          <div class="row">
                <div class="col-md-3">
                  <div class="text-center"><a href="../index.html" style="display: inline-block; margin-top: 5px;"><img src="../images/sumo-logo.png" class="sumoLogo" alt="SUMO Logo" width="120px"></a></div>
                  
<div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed mb-1" data-toggle="collapse" data-target="#toc-collapse" title="Contents">
            <span class="fa-solid fa-angle-down"></span>
        </button>
    </div>
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary toc-scroll toc">
        <ul class="nav flex-column bs-sidenav">
            <p style="margin-top:5px; color:#777777;" class="text-center">Contents</p>
            <li class="nav-item main"><a href="#netdiffpy">netdiff.py</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#patching_on_import" class="nav-link">• patching on import</a>
                </li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#patching_a_network_different_from_the_original" class="nav-link">• patching a network different from the original</a>
                </li>
            <li class="nav-item main"><a href="#createroundaboutconnectionspy">createRoundaboutConnections.py</a></li>
            <li class="nav-item main"><a href="#netcheckpy">netcheck.py</a></li>
            <li class="nav-item main"><a href="#xmledges_applyoffsetpy_and_xmlnodes_applyoffsetpy">xmledges_applyOffset.py and xmlnodes_applyOffset.py</a></li>
            <li class="nav-item main"><a href="#xmlconnections_mapedgespy">xmlconnections_mapEdges.py</a></li>
            <li class="nav-item main"><a href="#net2kmlpy">net2kml.py</a></li>
            <li class="nav-item main"><a href="#net2geojsonpy">net2geojson.py</a></li>
            <li class="nav-item main"><a href="#split_at_stopspy">split_at_stops.py</a></li>
            <li class="nav-item main"><a href="#abstractrailpy">abstractRail.py</a></li>
                <li class="nav-item" style="text-indent: 5px;">
                    <a href="#further_options" class="nav-link">• Further options</a>
                </li>
            <li class="nav-item main"><a href="#remap_additionalspy">remap_additionals.py</a></li>
            <li class="nav-item main"><a href="#remap_renamedpy">remap_renamed.py</a></li>
            <li class="nav-item main"><a href="#remap_networkpy">remap_network.py</a></li>
            <li class="nav-item main"><a href="#generatestationedgespy">generateStationEdges.py</a></li>
        </ul>
    </div>

    <div class="admonition conference" style="position: sticky; margin-top: 20px; margin-bottom:10px;">
        <p>visit <a class="no-arrow-link" href="https://eclipse.dev/sumo">eclipse.dev/sumo</a></p>
    </div>

    <div class="admonition" style="position: sticky; margin-top: 20px; margin-bottom:10px; background-color: #d6cbb2; border-color: #c6b795; padding: 0;">
        <center>
            <a class="no-arrow-link" href="https://eclipse.dev/sumo/conference"><img src="../images/SUMO2026.png" alt="SUMO User Conference 2025" class="img-fluid" style="max-height: 200px"></a>
        </center>
    </div>

</div>
                </div>
                <div class="col-md-9 main-area" role="main">
                   <!-- page.is_homepage seems to be broken in Mkdocs > 1.1.0 -->
                  <ul class="breadcrumbs">
    <script>
        var pagePath = "/docs/Tools/Net.html";
        var splitUrl = pagePath.split("/");
        splitUrl.pop();
        splitUrl.shift();
        if (splitUrl[0] == 'docs') splitUrl.shift();
        var homeLink = "../index.html";
        document.write('<li class="breadcrumb-item"><a href="' + homeLink + '"><i class="fa-solid fa-house"></i></a></li>');
        var prev = '';

        var dirLink = splitUrl.map(function (el) {
        el = prev + el; prev = el + '/'; return el;
        });

        for (let i = 0; i < splitUrl.length; i++) {
            document.write("<li class=\"breadcrumb-item\"><a class=\"no-arrow-link\" href=\"../" + dirLink[i] + "\">" + splitUrl[i] + "</a></li>");
        }
    </script>
    <li class="breadcrumb-item active">Net</li>
</ul>
                  <hTitles>Net<hr style="border: 0.5px solid #338033; margin-top: 5px !important;"></hTitles>
                  
                  

<h1 id="netdiffpy">netdiff.py<a class="headerlink" href="#netdiffpy" title="Permanent link">#</a></h1>
<p>This script compares two <em>.net.xml</em> files. The call</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">netdiff</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="n">A</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="n">B</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="n">diff</span>
</code></pre></div>

<p>will produce 4 <a href="../Networks/PlainXML.html">plain-XML network</a> files:</p>
<ul>
<li>diff.nod.xml</li>
<li>diff.edg.xml</li>
<li>diff.con.xml</li>
<li>diff.tll.xml</li>
</ul>
<p>These files contain groups of xml elements (i.e. nodes) that have been
deleted, created, or modified and can be used to investigate differences
between the two networks <strong><em>A</em></strong> and <strong><em>B</em></strong>. Furthermore, these files can be used to
maintain change-sets for making repeatable modifications:</p>
<div class="codehilite"><pre><span></span><code><span class="n">netconvert --sumo-net-file A.net.xml -n diff.nod.xml -e diff.edg.xml -x diff.con.xml -i diff.tll.xml -o B.net.xml</span>
</code></pre></div>

<p>The above call can be used to recreate network <strong><em>B</em></strong> based on <strong><em>A</em></strong> and the
recorded change-set. Note, that for any modified elements (i.e. modified
speed limit for an edge), the file <strong><em>diff.edg.xml</em></strong> only contains to
modified attributes.</p>
<p>A typical use case for <code>netdiff.py</code> is this:</p>
<ol>
<li><a href="../Networks/Import/OpenStreetMap.html">Import a network from
    OSM</a> (call this
    <strong><em>A.net.xml</em></strong>)</li>
<li>Make some modifications with <a href="../Netedit/index.html">netedit</a> (save
    this under the new name <strong><em>B.net.xml</em></strong>)</li>
<li>Use <code>netdiff.py</code> to create the <em>diff</em>-files</li>
<li>At a later date, re-import the OSM network (with a newer OSM file, a
    new version of <a href="../netconvert.html">netconvert</a> or different
    options)</li>
<li>Re-apply the <em>diff</em>-files to avoid repeating manual corrections with
    <a href="../Netedit/index.html">netedit</a></li>
</ol>
<p><img alt="" src="../images/mergeA.png" />
<img alt="" src="../images/mergeB.png" />
<img alt="" src="../images/mergeAB.png" /></p>
<h2 id="patching_on_import">patching on import<a class="headerlink" href="#patching_on_import" title="Permanent link">#</a></h2>
<p>If the patch file is to be applied during the initial network import
(e.g. from OSM), the netdiff option <strong>-i</strong> must be set. Due to the way
connections are guessed during network import, all connections for an
edge must be included in the patch file if any of them were changed. This
is accomplished by setting <strong>-i</strong> (<strong>--patch-on-import</strong>).</p>
<h2 id="patching_a_network_different_from_the_original">patching a network different from the original<a class="headerlink" href="#patching_a_network_different_from_the_original" title="Permanent link">#</a></h2>
<p>Sometimes it may be useful to apply the difference between networks <em>A</em> and <em>B</em> to another network <em>C</em> than differs slightly from <em>A</em>.
In this case it may be useful to only consider some of the changes (i.e. only created elements).</p>
<p>If only the newly created elements in <em>B</em> (relative to <em>A</em>) shall be considered, open each of the difference files (ie. diff.edg.xml, diff.nod.xml, diff.con.xml, diff.tll.xml) and keep only the elements below the heading</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;!--</span><span class="w"> </span><span class="n">Created</span><span class="w"> </span><span class="n">Elements</span><span class="w"> </span><span class="o">--&gt;</span><span class="s">&quot;</span>
</code></pre></div>

<p>This way the patch should be applicable to network <em>C</em> regardless of how it differs from the original <em>A</em>.</p>
<p>Sometimes, errors may occur due to inconsistent connections or traffic lights. In this case, it may be useful to only update <em>C</em> with 'diff.nod.xml and 'diff.edg.xml' and let netconvert guess
the respective connections and traffic lights.</p>
<p>In the end all regions where the area of <em>C</em> and <em>B</em> borders each other should be checked manually for consistency.</p>
<h1 id="createroundaboutconnectionspy">createRoundaboutConnections.py<a class="headerlink" href="#createroundaboutconnectionspy" title="Permanent link">#</a></h1>
<p>This script generates additional connections for roundabouts from a
given network. The following connections are added:</p>
<ul>
<li>vehicles can stay inside of the roundabout on every lane.</li>
<li>vehicles can leave a roundabout even if they are driving on an inner
  lane if there are enough outgoing lanes.</li>
</ul>
<p>Usage:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">createRoundaboutConnections</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">&lt;</span><span class="n">net</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span>
</code></pre></div>

<p>This creates the output file <code>roundabout-connection.con.xml</code>, where the input network is <strong><em>&lt;net-file&gt;</em></strong>.</p>
<h1 id="netcheckpy">netcheck.py<a class="headerlink" href="#netcheckpy" title="Permanent link">#</a></h1>
<p>This tool checks the network (first parameter) for weak connectivity
(whether there is a route from every node to every other node,
regardless of edge direction) and prints the connected components if
not.</p>
<p>Additionally, you may run this script to discover which edges are
reachable from a particular edge.</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">netcheck</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">&lt;</span><span class="n">net</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">--</span><span class="n">source</span><span class="w"> </span><span class="o">&lt;</span><span class="n">edge_id</span><span class="o">&gt;</span><span class="w"> </span><span class="o">--</span><span class="n">selection</span><span class="o">-</span><span class="n">output</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="n">txt</span>
</code></pre></div>

<p>This will create a file called <code>selection.txt</code> which can be loaded in
<a href="../sumo-gui.html">sumo-gui</a> to visualize the portion of the network
reachable from <strong><em>&lt;edge_id&gt;</em></strong>. To visualize the selection, you must load the
file via <strong>Edit-&gt;Edit chosen</strong>. Then, you need to enable
edge coloring by selection status in the view settings dialog
<strong>Street-&gt;Color by: selection</strong>. The reachable portion of the network
will be colored differently from the unreachable portion which is
usually sufficient to figure out network modeling errors.</p>
<p>The options can be shortened to <strong>-s &lt;edge_id&gt;</strong> for source edges and <strong>-o &lt;filename&gt;</strong> for selection
output.</p>
<p>Using option <strong>--destination &lt;edge_id&gt;</strong>, or <strong>-d &lt;edge_id&gt;</strong>, lists edges which can reach the given edge. By
adding the option <strong>--vclass &lt;vClass&gt;</strong>, or <strong>-l &lt;vClass&gt;</strong>, the check becomes
<a href="../Definition_of_Vehicles%2C_Vehicle_Types%2C_and_Routes.html#abstract_vehicle_class">vClass</a>-aware.</p>
<p>The option <strong>--component-output &lt;filename&gt;</strong>, or <strong>-c &lt;filename&gt;</strong>, writes all the identified components and their
constituent edges to the specified file. The option <strong>--results-output &lt;filename&gt;</strong>, or <strong>-r &lt;filename&gt;</strong>, writes the
whole network summary of largest component percentage coverage and
component edge count distribution to the specified file.</p>
<p>The <strong>--component-output</strong> and <strong>--results-output</strong> options are not compatible with the <strong>--destination</strong> or <strong>--source options</strong>.</p>
<p>Use the option <strong>--help</strong> for the latest version information.</p>
<h1 id="xmledges_applyoffsetpy_and_xmlnodes_applyoffsetpy">xmledges_applyOffset.py and xmlnodes_applyOffset.py<a class="headerlink" href="#xmledges_applyoffsetpy_and_xmlnodes_applyoffsetpy" title="Permanent link">#</a></h1>
<p>Both tools apply the given offset to the geometrical information of
edges or nodes given in the input file. The results are written into
&lt;XMLEDGES&gt;.mod.xml or &lt;XMLNODES&gt;.mod.xml, respectively.</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">xmledges_applyOffset</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">&lt;</span><span class="n">XMLEDGES</span><span class="o">-</span><span class="n">FILE</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">X</span><span class="o">-</span><span class="n">OFFSET</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Y</span><span class="o">-</span><span class="n">OFFSET</span><span class="o">&gt;</span>
<span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">xmlnodes_applyOffset</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">&lt;</span><span class="n">XMLNODES</span><span class="o">-</span><span class="n">FILE</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">X</span><span class="o">-</span><span class="n">OFFSET</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Y</span><span class="o">-</span><span class="n">OFFSET</span><span class="o">&gt;</span>
</code></pre></div>

<ul>
<li>&lt;XMLEDGES-FILE&gt;/&lt;XMLNODES-FILE&gt;: The edges/nodes file whose content shall be
  shifted</li>
<li>&lt;X-OFFSET&gt;: The x-offset to apply</li>
<li>&lt;Y-OFFSET&gt;: The y-offset to apply</li>
</ul>
<h1 id="xmlconnections_mapedgespy">xmlconnections_mapEdges.py<a class="headerlink" href="#xmlconnections_mapedgespy" title="Permanent link">#</a></h1>
<p>Reads edge id replacements from "edgemap.txt"; the format of this file
is:</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="n">OLD_EDGE_ID</span><span class="o">&gt;-&gt;&lt;</span><span class="n">NEW_EDGE_ID</span><span class="o">&gt;</span>
</code></pre></div>

<p>Reads the given connections file &lt;CONNECTIONS-FILE&gt; and replaces old edge
names by the new ones. The result is written to &lt;CONNECTIONS-FILE&gt;.mod.xml</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">xmlconnections_mapEdges</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">&lt;</span><span class="n">CONNECTIONS</span><span class="o">-</span><span class="n">FILE</span><span class="o">&gt;</span>
</code></pre></div>

<ul>
<li>&lt;OLD_EDGE_ID&gt;: Id of an edge as used within &lt;CONNECTIONS-FILE&gt;</li>
<li>&lt;NEW_EDGE_ID&gt;: Id of the edge to use instead</li>
<li>&lt;CONNECTIONS-FILE&gt;: The connections file to change</li>
</ul>
<h1 id="net2kmlpy">net2kml.py<a class="headerlink" href="#net2kmlpy" title="Permanent link">#</a></h1>
<p>converts '.net.xml' road geometries to <a href="https://en.wikipedia.org/wiki/Keyhole_Markup_Language">KML</a> format.</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">net2kml</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="n">net</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">output</span><span class="o">.</span><span class="n">kml</span>
</code></pre></div>

<p>By default, normal edge geometries will be exported. This can be changed with options</p>
<ul>
<li><strong>--lanes</strong>: write lane geometries</li>
<li><strong>--internal</strong>: write junction-internal edges or lanes</li>
<li><strong>--junctions</strong>: export junction geometries</li>
<li><strong>--boundary</strong>: write edge/lane boundaries instead of center-lines</li>
<li><strong>--traffic-lights</strong> write coordinates for the <a href="../sumo-gui.html#right_of_way">colored signals</a></li>
</ul>
<h1 id="net2geojsonpy">net2geojson.py<a class="headerlink" href="#net2geojsonpy" title="Permanent link">#</a></h1>
<p>converts '.net.xml' road geometries to <a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a> format.</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">net2geojson</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="n">net</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">output</span><span class="o">.</span><span class="n">geojson</span>
</code></pre></div>

<p>By default, normal edge geometries will be exported. This can be changed with options</p>
<ul>
<li><strong>--lanes</strong>: write lane geometries</li>
<li><strong>--internal</strong>: write junction-internal edges or lanes</li>
</ul>
<p>It is also possible to enrich the generated geojson with edge-related data (i.e. traffic counts or speeds) by loading an edgedata file with option <strong>--edgedata-file</strong>.</p>
<h1 id="split_at_stopspy">split_at_stops.py<a class="headerlink" href="#split_at_stopspy" title="Permanent link">#</a></h1>
<p>Generates an .edg.xml patch file with <code>split</code> definitions to ensure that each public transport stop of the given type (default <code>&lt;trainStop&gt;</code>) is on a separate edge from every other stop. The tool also generates an updated <code>.net.xml</code> and stop file. Furthermore, it can adapt a route-file so it matches the updated network.</p>
<p>Example call:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">split_at_stops</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">&lt;</span><span class="n">stopfile</span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;</span><span class="n">net</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="o">&lt;</span><span class="n">route</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">net</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">--</span><span class="n">stop</span><span class="o">-</span><span class="n">output</span><span class="w"> </span><span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">stop</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">--</span><span class="n">route</span><span class="o">-</span><span class="n">output</span><span class="w"> </span><span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">route</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span><span class="w"> </span><span class="o">--</span><span class="n">stop</span><span class="o">-</span><span class="n">type</span><span class="w"> </span><span class="n">busStop</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A similar functionality is achieved by <a href="District.html#stationdistrictspy">stationDistricts.py --split-output FILE</a> which splits edges at the midpoint between stops.</p>
</div>
<h1 id="abstractrailpy">abstractRail.py<a class="headerlink" href="#abstractrailpy" title="Permanent link">#</a></h1>
<p>Converts a geodetical rail network into an abstract (schematic) rail network.
If the network is segmented (with <a href="District.html#stationdistrictspy">stationDistricts.py</a>), the resulting network will be
a hybrid of multiple schematic pieces being oriented in a roughly geodetical manner</p>
<p>Example call:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">abstractRail</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">input_net</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">stop</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">input_additional</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">region</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">stations</span><span class="o">.</span><span class="n">taz</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="n">prefix</span><span class="w"> </span><span class="n">abstract</span>
</code></pre></div>

<p>It is also possible to automatically segment the network:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">abstractRail</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">input_net</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">stop</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">input_additional</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">split</span><span class="w"> </span><span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="n">prefix</span><span class="w"> </span><span class="n">abstract</span>
</code></pre></div>

<h2 id="further_options">Further options<a class="headerlink" href="#further_options" title="Permanent link">#</a></h2>
<ul>
<li><strong>--filter-regions</strong>: Only convert the given list of regions and delete everything else</li>
<li><strong>--keep-all</strong>: When filtering regions, keep all other regions at their old geometry. This may be used to build region-specific patch files than can the combined to patch larger parts of the network**</li>
<li><strong>--horizontal</strong>: The abstract network is aligned on the horizontal</li>
<li><strong>--track-offset</strong>: Define the offset between parallel tracks in m (default 20)</li>
<li><strong>--skip-building</strong>: Only create patch files but do not assemble the new network</li>
<li><strong>--skip</strong>: creates a region file (taz) from the stop-file, optionally splits network edges to ensure that each edge belongs to a single station</li>
</ul>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If the network is large and not segmented or if the individual station segments are large, the conversion process can take a long time. The option <strong>--skip-large INT</strong> can be used to selective skip large regions (measured by the number of optimization constraints, reported via <strong>--verbose</strong> output).</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If option <strong>--spit</strong> is used, the original network may be split (with the new filename <em>OLDNAME.split.net.xml</em>) and the generated abstract network will have the same edges as the split net. The input stop-file will also be adapted for the split net (with the new filename <em>OLDNAME.split.add.xml</em>) but any traffic demand (route files) have to be adapted for the split network. This can be accomplished by calling <strong>duarouter -n net.split.net.xml.gz -a stops.split.add.xml -r old.rou.xml -o new.rou.xml --repair --ignore-errors --skip-new-routes --ptline-routing</strong></p>
</div>
<h1 id="remap_additionalspy">remap_additionals.py<a class="headerlink" href="#remap_additionalspy" title="Permanent link">#</a></h1>
<p>Remap infrastructure from one network to another if the networks have similar geometry. The following differences between networks are acceptable:</p>
<ul>
<li>changed edge ids</li>
<li>changed lane number and permissions</li>
<li>changed splits and joins of edges</li>
<li>small variations in geometry</li>
</ul>
<p>In case of changed lanes, permissions are taken into account to select a suitable replacement lane.</p>
<p>Example call:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">remap_additionals</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">--</span><span class="n">orig</span><span class="o">-</span><span class="n">net</span><span class="w"> </span><span class="n">input_net</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="o">-</span><span class="n">net</span><span class="w"> </span><span class="n">input_net2</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="n">input_additional</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">xml</span>
</code></pre></div>

<h1 id="remap_renamedpy">remap_renamed.py<a class="headerlink" href="#remap_renamedpy" title="Permanent link">#</a></h1>
<p>Remap infrastructure, vehicles, routes or a selection file from one network to another if the new network has an <code>origId</code> param on every lane that reflects the edge id of the original network. A supported use case is converting the origial network with option <strong>--numerical-ids</strong> and then transforming other scenario file so that it can be used with the new network.</p>
<p>Example calls:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">remap_additionals</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">input_net2</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">input_routes</span><span class="o">.</span><span class="n">rou</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="n">rou</span><span class="o">.</span><span class="n">xml</span>
<span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">remap_additionals</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">input_net2</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="n">input_additionals</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">xml</span>
<span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">remap_additionals</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">input_net2</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">input_selection</span><span class="o">.</span><span class="n">txt</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="n">txt</span>
</code></pre></div>

<h1 id="remap_networkpy">remap_network.py<a class="headerlink" href="#remap_networkpy" title="Permanent link">#</a></h1>
<p>Compute correspondence between two networks with somewhat similar geometry (but different splits, joins, ids etc). The output is a csv-file with an 1-to-n mapping of original edge to zero or more target edges. 
For each target edge, the common length in m as well as the fraction of the target edge being covered by the original edge are listed. Output on the quality of the mapping is written to <strong>--success-output</strong>.</p>
<p>Example call:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">remap_network</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">--</span><span class="n">orig</span><span class="o">-</span><span class="n">net</span><span class="w"> </span><span class="n">net</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="o">-</span><span class="n">net</span><span class="w"> </span><span class="n">net2</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="n">csv</span><span class="w"> </span><span class="o">--</span><span class="n">success</span><span class="o">-</span><span class="n">output</span><span class="w"> </span><span class="n">success</span><span class="o">.</span><span class="n">txt</span>
</code></pre></div>

<h1 id="generatestationedgespy">generateStationEdges.py<a class="headerlink" href="#generatestationedgespy" title="Permanent link">#</a></h1>
<p>Generate pedestrian edges for every public transport stop to serve as access
edge in otherwise pure railway networks. If a single edge is generated for all stops with the same name (option <strong>--join</strong>), persons starting on such an edge can automatically pick the stop (plattform) that best suits their journey.</p>
<p>Example call:</p>
<div class="codehilite"><pre><span></span><code><span class="n">python</span><span class="w"> </span><span class="n">tools</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">generateStationEdges</span><span class="o">.</span><span class="n">py</span><span class="w"> </span><span class="o">--</span><span class="n">net</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">net</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">--</span><span class="n">stop</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">stops</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">xml</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">net2</span><span class="w"> </span><span class="o">--</span><span class="n">join</span><span class="w"> </span><span class="o">--</span><span class="n">build</span>
</code></pre></div>

<p>This tool generates <em>.edg.xml</em> and <em>.nod.xml</em> patch files for adding pedestrian edges at stations. These can be applied to the input network by calling netconvert again. The netconvert call happens automatically when option <strong>--build</strong> is set.
If option <strong>--join</strong> is set, a single pedestrian edge will be generated for all busStops/trainStops with the same <code>name</code> attribute.</p>
                </div>
          </div>
          <button onclick="goTopFunction()" id="goToTop" title="Go to top"><i class="fa-solid fa-arrow-up"></i></button>
        </div>

        <footer class="col-md-12">
          
            <br><small><i>This page was last edited on: 20 February 2026</i></small>
          
          <hr>
            <p>Copyright &copy; 2001-2026 German Aerospace Center (DLR) and others.</p>
          <p>Follow us on <a class="no-arrow-link" href="https://www.twitter.com/eclipsesumo/"><i class="fa-brands fa-x-twitter"></i></a> <a class="no-arrow-link" href="https://www.facebook.com/simulationofurbanmobility/"><i class="fa-brands fa-facebook"></i></a> <a class="no-arrow-link" href="https://www.instagram.com/eclipse.sumo/"><i class="fa-brands fa-instagram"></i></a> <a class="no-arrow-link" href="https://www.threads.net/@eclipse.sumo"><i class="fa-brands fa-threads"></i></a> <a class="no-arrow-link" href="https://bsky.app/profile/eclipse-sumo.bsky.social"><i class="fa-brands fa-bluesky"></i></a> <a class="no-arrow-link" href="https://www.linkedin.com/groups/5156801/"><i class="fab fa-linkedin"></i></a>
          | Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a></p>
        </footer>

      <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body" style="color: #495057 !important;">
                <p>Enter your search terms:</p>
                <script async src="https://cse.google.com/cse.js?cx=004302551366764109984:1kpgtzrm6kv"></script>
                <div class="gcse-search"></div>
            </div>
        </div>
    </div>
</div>
      <script>
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("goToTop").style.display = "block";
          } else {
            document.getElementById("goToTop").style.display = "none";
          }
        }

        function goTopFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }

        var base_url = "..",
            shortcuts = {"edit": 69, "help": 191, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>

        <script>
          const toggleSwitch = document.querySelector('#theme-switch input[type="checkbox"]');

          function switchTheme(e) {
              if (e.target.checked) {
                  localStorage.setItem('sumo-docs-theme', 'dark');
                  document.documentElement.setAttribute('data-theme', 'dark');
                  toggleSwitch.checked = true;
              } else {
                  localStorage.setItem('sumo-docs-theme', 'light');
                  document.documentElement.setAttribute('data-theme', 'light');
                  toggleSwitch.checked = false;
              }
          }

          toggleSwitch.addEventListener('change', switchTheme, false);

          if (document.documentElement.getAttribute("data-theme") == "dark"){
              toggleSwitch.checked = true;
          }
          </script>

      <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Key</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="color: #495057 !important;">
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help dialog</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search the Documentation</td>
                  </tr>
                  <tr>
                    <td class="edit shortcut"><kbd>e</kbd></td>
                    <td>Edit current page on GitHub</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    </div>
</div>
    </body>
</html>